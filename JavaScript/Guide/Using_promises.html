<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:02:11 GMT --><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://developer.mozilla.org/favicon-48x48.bc390275e955dacb2e65.png"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Using promises</title><link rel="alternate" title="Using promises" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Guide/Using_promises" hreflang="de"><link rel="alternate" title="Usar promesas" href="https://developer.mozilla.org/es/docs/Web/JavaScript/Guide/Using_promises" hreflang="es"><link rel="alternate" title="Utiliser les promesses" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide/Using_promises" hreflang="fr"><link rel="alternate" title="プロミスの使用" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Guide/Using_promises" hreflang="ja"><link rel="alternate" title="Using promises" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Using_promises" hreflang="ko"><link rel="alternate" title="Usando promises" href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Guide/Using_promises" hreflang="pt"><link rel="alternate" title="Использование промисов" href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Using_promises" hreflang="ru"><link rel="alternate" title="使用 Promise" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Using_promises" hreflang="zh"><link rel="alternate" title="使用 Promise" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Using_promises" hreflang="zh-Hant"><link rel="alternate" title="Using promises" href="Using_promises.html" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="https://developer.mozilla.org/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en"><meta name="description" content="A Promise is an object representing the eventual completion or failure of an asynchronous operation. Since most people are consumers of already-created promises, this guide will explain consumption of returned promises before explaining how to create them."><meta property="og:url" content="Using_promises.html"><meta property="og:title" content="Using promises - JavaScript | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="A Promise is an object representing the eventual completion or failure of an asynchronous operation. Since most people are consumers of already-created promises, this guide will explain consumption of returned promises before explaining how to create them."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="Using_promises.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="https://developer.mozilla.org/static/css/main.65aa8eed.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e]);const o=window.localStorage.getItem("nop");o&&(document.documentElement.dataset.nop=o)}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><div class="page-wrapper  category-javascript document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Using promises</h1></header><div class="section-content"><ul class="prev-next"><li><a class="button secondary" href="Using_classes.html"><span class="button-wrap"> Previous </span></a></li><li><a class="button secondary" href="Typed_arrays.html"><span class="button-wrap"> Next  </span></a></li></ul>
<p>A <a href="../Reference/Global_Objects/Promise.html"><code>Promise</code></a> is an object representing the eventual completion or failure of an asynchronous operation. Since most people are consumers of already-created promises, this guide will explain consumption of returned promises before explaining how to create them.</p>
<p>Essentially, a promise is a returned object to which you attach callbacks, instead of passing callbacks into a function. Imagine a function, <code>createAudioFileAsync()</code>, which asynchronously generates a sound file given a configuration record and two callback functions: one called if the audio file is successfully created, and the other called if an error occurs.</p>
<p>Here's some code that uses <code>createAudioFileAsync()</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function successCallback(result) {
  console.log(`Audio file ready at URL: ${result}`);
}

function failureCallback(error) {
  console.error(`Error generating audio file: ${error}`);
}

createAudioFileAsync(audioSettings, successCallback, failureCallback);
</code></pre></div>
<p>If <code>createAudioFileAsync()</code> were rewritten to return a promise, you would attach your callbacks to it instead:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>createAudioFileAsync(audioSettings).then(successCallback, failureCallback);
</code></pre></div>
<p>This convention has several advantages. We will explore each one.</p></div><section aria-labelledby="chaining"><h2 id="chaining"><a href="#chaining">Chaining</a></h2><div class="section-content"><p>A common need is to execute two or more asynchronous operations back to back, where each subsequent operation starts when the previous operation succeeds, with the result from the previous step. In the old days, doing several asynchronous operations in a row would lead to the classic <a href="http://callbackhell.com/" class="external" target="_blank">callback hell</a>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething(function (result) {
  doSomethingElse(result, function (newResult) {
    doThirdThing(newResult, function (finalResult) {
      console.log(`Got the final result: ${finalResult}`);
    }, failureCallback);
  }, failureCallback);
}, failureCallback);
</code></pre></div>
<p>With promises, we accomplish this by creating a promise chain. The API design of promises makes this great, because callbacks are attached to the returned promise object, instead of being passed into a function.</p>
<p>Here's the magic: the <code>then()</code> function returns a <strong>new promise</strong>, different from the original:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const promise = doSomething();
const promise2 = promise.then(successCallback, failureCallback);
</code></pre></div>
<p>This second promise (<code>promise2</code>) represents the completion not just of <code>doSomething()</code>, but also of the <code>successCallback</code> or <code>failureCallback</code> you passed in — which can be other asynchronous functions returning a promise. When that's the case, any callbacks added to <code>promise2</code> get queued behind the promise returned by either <code>successCallback</code> or <code>failureCallback</code>.</p>
<div class="notecard note">
<p><strong>Note:</strong>
If you want a working example to play with, you can use the following template to create any function returning a promise:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function doSomething() {
  return new Promise((resolve) =&gt; {
    setTimeout(() =&gt; {
      // Other things to do before completion of the promise
      console.log("Did something");
      // The fulfillment value of the promise
      resolve("https://example.com/");
    }, 200);
  });
}
</code></pre></div>
<p>The implementation is discussed in the <a href="#creating_a_promise_around_an_old_callback_api">Creating a Promise around an old callback API</a> section below.</p>
</div>
<p>With this pattern, you can create longer chains of processing, where each promise represents the completion of one asynchronous step in the chain. In addition, the arguments to <code>then</code> are optional, and <code>catch(failureCallback)</code> is short for <code>then(null, failureCallback)</code> — so if your error handling code is the same for all steps, you can attach it to the end of the chain:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething()
  .then(function (result) {
    return doSomethingElse(result);
  })
  .then(function (newResult) {
    return doThirdThing(newResult);
  })
  .then(function (finalResult) {
    console.log(`Got the final result: ${finalResult}`);
  })
  .catch(failureCallback);
</code></pre></div>
<p>You might see this expressed with <a href="../Reference/Functions/Arrow_functions.html">arrow functions</a> instead:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething()
  .then((result) =&gt; doSomethingElse(result))
  .then((newResult) =&gt; doThirdThing(newResult))
  .then((finalResult) =&gt; {
    console.log(`Got the final result: ${finalResult}`);
  })
  .catch(failureCallback);
</code></pre></div>
<div class="notecard note">
<p><strong>Note:</strong>
Arrow function expressions can have an <a href="../Reference/Functions/Arrow_functions.html#function_body">implicit return</a>; so, <code>() =&gt; x</code> is short for <code>() =&gt; { return x; }</code>.</p>
</div>
<p><code>doSomethingElse</code> and <code>doThirdThing</code> can return any value — if they return promises, that promise is first waited until it settles, and the next callback receives the fulfillment value, not the promise itself. It is important to always return promises from <code>then</code> callbacks, even if the promise always resolves to <code>undefined</code>. If the previous handler started a promise but did not return it, there's no way to track its settlement anymore, and the promise is said to be "floating".</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>doSomething()
  .then((url) =&gt; {
    // Missing `return` keyword in front of fetch(url).
    fetch(url);
  })
  .then((result) =&gt; {
    // result is undefined, because nothing is returned from the previous
    // handler. There's no way to know the return value of the fetch()
    // call anymore, or whether it succeeded at all.
  });
</code></pre></div>
<p>By returning the result of the <code>fetch</code> call (which is a promise), we can both track its completion and receive its value when it completes.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-good notranslate"><code>doSomething()
  .then((url) =&gt; {
    // `return` keyword added
    return fetch(url);
  })
  .then((result) =&gt; {
    // result is a Response object
  });
</code></pre></div>
<p>Floating promises could be worse if you have race conditions — if the promise from the last handler is not returned, the next <code>then</code> handler will be called early, and any value it reads may be incomplete.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>const listOfIngredients = [];

doSomething()
  .then((url) =&gt; {
    // Missing `return` keyword in front of fetch(url).
    fetch(url)
      .then((res) =&gt; res.json())
      .then((data) =&gt; {
        listOfIngredients.push(data);
      });
  })
  .then(() =&gt; {
    console.log(listOfIngredients);
    // listOfIngredients will always be [], because the fetch request hasn't completed yet.
  });
</code></pre></div>
<p>Therefore, as a rule of thumb, whenever your operation encounters a promise, return it and defer its handling to the next <code>then</code> handler.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-good notranslate"><code>const listOfIngredients = [];

doSomething()
  .then((url) =&gt; {
    // `return` keyword now included in front of fetch call.
    return fetch(url)
      .then((res) =&gt; res.json())
      .then((data) =&gt; {
        listOfIngredients.push(data);
      });
  })
  .then(() =&gt; {
    console.log(listOfIngredients);
    // listOfIngredients will now contain data from fetch call.
  });
</code></pre></div>
<p>Even better, you can flatten the nested chain into a single chain, which is simpler and makes error handling easier. The details are discussed in the <a href="#nesting">Nesting</a> section below.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething()
  .then((url) =&gt; fetch(url))
  .then((res) =&gt; res.json())
  .then((data) =&gt; {
    listOfIngredients.push(data);
  })
  .then(() =&gt; {
    console.log(listOfIngredients);
  });
</code></pre></div>
<p>Using <a href="../Reference/Statements/async_function.html"><code>async</code>/<code>await</code></a> can help you write code that's more intuitive and resembles synchronous code. Below is the same example using <code>async</code>/<code>await</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>async function logIngredients() {
  const url = await doSomething();
  const res = await fetch(url);
  const data = await res.json();
  listOfIngredients.push(data);
  console.log(listOfIngredients);
}
</code></pre></div>
<p>Note how the code looks exactly like synchronous code, except for the <code>await</code> keywords in front of promises. One of the only tradeoffs is that it may be easy to forget the <a href="../Reference/Statements/async_function.html"><code>await</code></a> keyword, which can only be fixed when there's a type mismatch (e.g. trying to use a promise as a value).</p>
<p><code>async</code>/<code>await</code> builds on promises — for example, <code>doSomething()</code> is the same function as before, so there's minimal refactoring needed to change from promises to <code>async</code>/<code>await</code>. You can read more about the <code>async</code>/<code>await</code> syntax in the <a href="../Reference/Statements/async_function.html">async functions</a> and <a href="../Reference/Operators/await.html"><code>await</code></a> references.</p>
<div class="notecard note">
<p><strong>Note:</strong> <code>async</code>/<code>await</code> has the same concurrency semantics as normal promise chains. <code>await</code> within one async function does not stop the entire program, only the parts that depend on its value, so other async jobs can still run while the <code>await</code> is pending.</p>
</div></div></section><section aria-labelledby="error_handling"><h2 id="error_handling"><a href="#error_handling">Error handling</a></h2><div class="section-content"><p>You might recall seeing <code>failureCallback</code> three times in the pyramid of doom earlier, compared to only once at the end of the promise chain:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething()
  .then((result) =&gt; doSomethingElse(result))
  .then((newResult) =&gt; doThirdThing(newResult))
  .then((finalResult) =&gt; console.log(`Got the final result: ${finalResult}`))
  .catch(failureCallback);
</code></pre></div>
<p>If there's an exception, the browser will look down the chain for <code>.catch()</code> handlers or <code>onRejected</code>. This is very much modeled after how synchronous code works:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>try {
  const result = syncDoSomething();
  const newResult = syncDoSomethingElse(result);
  const finalResult = syncDoThirdThing(newResult);
  console.log(`Got the final result: ${finalResult}`);
} catch (error) {
  failureCallback(error);
}
</code></pre></div>
<p>This symmetry with asynchronous code culminates in the <code>async</code>/<code>await</code> syntax:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>async function foo() {
  try {
    const result = await doSomething();
    const newResult = await doSomethingElse(result);
    const finalResult = await doThirdThing(newResult);
    console.log(`Got the final result: ${finalResult}`);
  } catch (error) {
    failureCallback(error);
  }
}
</code></pre></div>
<p>Promises solve a fundamental flaw with the callback pyramid of doom, by catching all errors, even thrown exceptions and programming errors. This is essential for functional composition of asynchronous operations. All errors are now handled by the <a href="../Reference/Global_Objects/Promise/catch.html"><code>catch()</code></a> method at the end of the chain, and you should almost never need to use <code>try</code>/<code>catch</code> without using <code>async</code>/<code>await</code>.</p></div></section><section aria-labelledby="nesting"><h3 id="nesting"><a href="#nesting">Nesting</a></h3><div class="section-content"><p>In the examples above involving <code>listOfIngredients</code>, the first one has one promise chain nested in the return value of another <code>then()</code> handler, while the second one uses an entirely flat chain. Simple promise chains are best kept flat without nesting, as nesting can be a result of careless composition.</p>
<p>Nesting is a control structure to limit the scope of <code>catch</code> statements. Specifically, a nested <code>catch</code> only catches failures in its scope and below, not errors higher up in the chain outside the nested scope. When used correctly, this gives greater precision in error recovery:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomethingCritical()
  .then((result) =&gt;
    doSomethingOptional(result)
      .then((optionalResult) =&gt; doSomethingExtraNice(optionalResult))
      .catch((e) =&gt; {}),
  ) // Ignore if optional stuff fails; proceed.
  .then(() =&gt; moreCriticalStuff())
  .catch((e) =&gt; console.error(`Critical failure: ${e.message}`));
</code></pre></div>
<p>Note that the optional steps here are nested — with the nesting caused not by the indentation, but by the placement of the outer <code>(</code> and <code>)</code> parentheses around the steps.</p>
<p>The inner error-silencing <code>catch</code> handler only catches failures from <code>doSomethingOptional()</code> and <code>doSomethingExtraNice()</code>, after which the code resumes with <code>moreCriticalStuff()</code>. Importantly, if <code>doSomethingCritical()</code> fails, its error is caught by the final (outer) <code>catch</code> only, and does not get swallowed by the inner <code>catch</code> handler.</p>
<p>In <code>async</code>/<code>await</code>, this code looks like:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>async function main() {
  try {
    const result = await doSomethingCritical();
    try {
      const optionalResult = await doSomethingOptional(result);
      await doSomethingExtraNice(optionalResult);
    } catch (e) {
      // Ignore failures in optional steps and proceed.
    }
    await moreCriticalStuff();
  } catch (e) {
    console.error(`Critical failure: ${e.message}`);
  }
}
</code></pre></div>
<div class="notecard note">
<p><strong>Note:</strong>
If you don't have sophisticated error handling, you very likely don't need nested <code>then</code> handlers. Instead, use a flat chain and put the error handling logic at the end.</p>
</div></div></section><section aria-labelledby="chaining_after_a_catch"><h3 id="chaining_after_a_catch"><a href="#chaining_after_a_catch">Chaining after a catch</a></h3><div class="section-content"><p>It's possible to chain <em>after</em> a failure, i.e. a <code>catch</code>, which is useful to accomplish new actions even after an action failed in the chain. Read the following example:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>doSomething()
  .then(() =&gt; {
    throw new Error("Something failed");

    console.log("Do this");
  })
  .catch(() =&gt; {
    console.error("Do that");
  })
  .then(() =&gt; {
    console.log("Do this, no matter what happened before");
  });
</code></pre></div>
<p>This will output the following text:</p>
<pre class="brush: plain notranslate">Initial
Do that
Do this, no matter what happened before
</pre>
<div class="notecard note">
<p><strong>Note:</strong>
The text "Do this" is not displayed because the "Something failed" error caused a rejection.</p>
</div>
<p>In <code>async</code>/<code>await</code>, this code looks like:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>async function main() {
  try {
    await doSomething();
    throw new Error("Something failed");
    console.log("Do this");
  } catch (e) {
    console.error("Do that");
  }
  console.log("Do this, no matter what happened before");
}
</code></pre></div></div></section><section aria-labelledby="promise_rejection_events"><h3 id="promise_rejection_events"><a href="#promise_rejection_events">Promise rejection events</a></h3><div class="section-content"><p>If a promise rejection event is not handled by any handler, it bubbles to the top of the call stack, and the host needs to surface it. On the web, whenever a promise is rejected, one of two events is sent to the global scope (generally, this is either the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window"><code>window</code></a> or, if being used in a web worker, it's the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker"><code>Worker</code></a> or other worker-based interface). The two events are:</p>
<dl>
<dt id="unhandledrejection"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/unhandledrejection_event"><code>unhandledrejection</code></a></dt>
<dd>
<p>Sent when a promise is rejected but there is no rejection handler available.</p>
</dd>
<dt id="rejectionhandled"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/rejectionhandled_event"><code>rejectionhandled</code></a></dt>
<dd>
<p>Sent when a handler is attached to a rejected promise that has already caused an <code>unhandledrejection</code> event.</p>
</dd>
</dl>
<p>In both cases, the event (of type <a href="https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent"><code>PromiseRejectionEvent</code></a>) has as members a <a href="https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent/promise"><code>promise</code></a> property indicating the promise that was rejected, and a <a href="https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent/reason"><code>reason</code></a> property that provides the reason given for the promise to be rejected.</p>
<p>These make it possible to offer fallback error handling for promises, as well as to help debug issues with your promise management. These handlers are global per context, so all errors will go to the same event handlers, regardless of source.</p>
<p>In <a href="https://developer.mozilla.org/en-US/docs/Glossary/Node.js">Node.js</a>, handling promise rejection is slightly different. You capture unhandled rejections by adding a handler for the Node.js <code>unhandledRejection</code> event (notice the difference in capitalization of the name), like this:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>process.on("unhandledRejection", (reason, promise) =&gt; {
  // Add code here to examine the "promise" and "reason" values
});
</code></pre></div>
<p>For Node.js, to prevent the error from being logged to the console (the default action that would otherwise occur), adding that <code>process.on()</code> listener is all that's necessary; there's no need for an equivalent of the browser runtime's <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault"><code>preventDefault()</code></a> method.</p>
<p>However, if you add that <code>process.on</code> listener but don't also have code within it to handle rejected promises, they will just be dropped on the floor and silently ignored. So ideally, you should add code within that listener to examine each rejected promise and make sure it was not caused by an actual code bug.</p></div></section><section aria-labelledby="composition"><h2 id="composition"><a href="#composition">Composition</a></h2><div class="section-content"><p>There are four <a href="../Reference/Global_Objects/Promise.html#promise_concurrency">composition tools</a> for running asynchronous operations concurrently: <a href="../Reference/Global_Objects/Promise/all.html"><code>Promise.all()</code></a>, <a href="../Reference/Global_Objects/Promise/allSettled.html"><code>Promise.allSettled()</code></a>, <a href="../Reference/Global_Objects/Promise/any.html"><code>Promise.any()</code></a>, and <a href="../Reference/Global_Objects/Promise/race.html"><code>Promise.race()</code></a>.</p>
<p>We can start operations at the same time and wait for them all to finish like this:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>Promise.all([func1(), func2(), func3()]).then(([result1, result2, result3]) =&gt; {
  // use result1, result2 and result3
});
</code></pre></div>
<p>If one of the promises in the array rejects, <code>Promise.all()</code> immediately rejects the returned promise and aborts the other operations. This may cause unexpected state or behavior. <a href="../Reference/Global_Objects/Promise/allSettled.html"><code>Promise.allSettled()</code></a> is another composition tool that ensures all operations are complete before resolving.</p>
<p>These methods all run promises concurrently — a sequence of promises are started simultaneously and do not wait for each other. Sequential composition is possible using some clever JavaScript:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>[func1, func2, func3]
  .reduce((p, f) =&gt; p.then(f), Promise.resolve())
  .then((result3) =&gt; {
    /* use result3 */
  });
</code></pre></div>
<p>In this example, we <a href="../Reference/Global_Objects/Array/reduce.html">reduce</a> an array of asynchronous functions down to a promise chain. The code above is equivalent to:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>Promise.resolve()
  .then(func1)
  .then(func2)
  .then(func3)
  .then((result3) =&gt; {
    /* use result3 */
  });
</code></pre></div>
<p>This can be made into a reusable compose function, which is common in functional programming:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const applyAsync = (acc, val) =&gt; acc.then(val);
const composeAsync =
  (...funcs) =&gt;
  (x) =&gt;
    funcs.reduce(applyAsync, Promise.resolve(x));
</code></pre></div>
<p>The <code>composeAsync()</code> function accepts any number of functions as arguments and returns a new function that accepts an initial value to be passed through the composition pipeline:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const transformData = composeAsync(func1, func2, func3);
const result3 = transformData(data);
</code></pre></div>
<p>Sequential composition can also be done more succinctly with async/await:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>let result;
for (const f of [func1, func2, func3]) {
  result = await f(result);
}
/* use last result (i.e. result3) */
</code></pre></div>
<p>However, before you compose promises sequentially, consider if it's really necessary — it's always better to run promises concurrently so that they don't unnecessarily block each other unless one promise's execution depends on another's result.</p></div></section><section aria-labelledby="cancellation"><h2 id="cancellation"><a href="#cancellation">Cancellation</a></h2><div class="section-content"><p><code>Promise</code> itself has no first-class protocol for cancellation, but you may be able to directly cancel the underlying asynchronous operation, typically using <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController"><code>AbortController</code></a>.</p></div></section><section aria-labelledby="creating_a_promise_around_an_old_callback_api"><h2 id="creating_a_promise_around_an_old_callback_api"><a href="#creating_a_promise_around_an_old_callback_api">Creating a Promise around an old callback API</a></h2><div class="section-content"><p>A <a href="../Reference/Global_Objects/Promise.html"><code>Promise</code></a> can be created from scratch using its <a href="../Reference/Global_Objects/Promise/Promise.html">constructor</a>. This should be needed only to wrap old APIs.</p>
<p>In an ideal world, all asynchronous functions would already return promises. Unfortunately, some APIs still expect success and/or failure callbacks to be passed in the old way. The most obvious example is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout" title="setTimeout()"><code>setTimeout()</code></a> function:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>setTimeout(() =&gt; saySomething("10 seconds passed"), 10 * 1000);
</code></pre></div>
<p>Mixing old-style callbacks and promises is problematic. If <code>saySomething()</code> fails or contains a programming error, nothing catches it. This is intrinsic to the design of <code>setTimeout()</code>.</p>
<p>Luckily we can wrap <code>setTimeout()</code> in a promise. The best practice is to wrap the callback-accepting functions at the lowest possible level, and then never call them directly again:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const wait = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(resolve, ms));

wait(10 * 1000)
  .then(() =&gt; saySomething("10 seconds"))
  .catch(failureCallback);
</code></pre></div>
<p>The promise constructor takes an executor function that lets us resolve or reject a promise manually. Since <code>setTimeout()</code> doesn't really fail, we left out reject in this case. For more information on how the executor function works, see the <a href="../Reference/Global_Objects/Promise/Promise.html"><code>Promise()</code></a> reference.</p></div></section><section aria-labelledby="timing"><h2 id="timing"><a href="#timing">Timing</a></h2><div class="section-content"><p>Lastly, we will look into the more technical details, about when the registered callbacks get called.</p></div></section><section aria-labelledby="guarantees"><h3 id="guarantees"><a href="#guarantees">Guarantees</a></h3><div class="section-content"><p>In the callback-based API, when and how the callback gets called depends on the API implementor. For example, the callback may be called synchronously or asynchronously:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>function doSomething(callback) {
  if (Math.random() &gt; 0.5) {
    callback();
  } else {
    setTimeout(() =&gt; callback(), 1000);
  }
}
</code></pre></div>
<p>The above design is strongly discouraged because it leads to the so-called "state of Zalgo". In the context of designing asynchronous APIs, this means a callback is called synchronously in some cases but asynchronously in other cases, creating ambiguity for the caller. For further background, see the article <a href="https://blog.izs.me/2013/08/designing-apis-for-asynchrony/" class="external" target="_blank">Designing APIs for Asynchrony</a>, where the term was first formally presented. This API design makes side effects hard to analyze:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>let value = 1;
doSomething(() =&gt; {
  value = 2;
});
console.log(value); // 1 or 2?
</code></pre></div>
<p>On the other hand, promises are a form of <a href="https://en.wikipedia.org/wiki/Inversion_of_control" class="external" target="_blank">inversion of control</a> — the API implementor does not control when the callback gets called. Instead, the job of maintaining the callback queue and deciding when to call the callbacks is delegated to the promise implementation, and both the API user and API developer automatically gets strong semantic guarantees, including:</p>
<ul>
<li>Callbacks added with <a href="../Reference/Global_Objects/Promise/then.html"><code>then()</code></a> will never be invoked before the <a href="../Event_loop.html#run-to-completion">completion of the current run</a> of the JavaScript event loop.</li>
<li>These callbacks will be invoked even if they were added <em>after</em> the success or failure of the asynchronous operation that the promise represents.</li>
<li>Multiple callbacks may be added by calling <a href="../Reference/Global_Objects/Promise/then.html"><code>then()</code></a> several times. They will be invoked one after another, in the order in which they were inserted.</li>
</ul>
<p>To avoid surprises, functions passed to <a href="../Reference/Global_Objects/Promise/then.html"><code>then()</code></a> will never be called synchronously, even with an already-resolved promise:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>Promise.resolve().then(() =&gt; console.log(2));
console.log(1);
// Logs: 1, 2
</code></pre></div>
<p>Instead of running immediately, the passed-in function is put on a microtask queue, which means it runs later (only after the function which created it exits, and when the JavaScript execution stack is empty), just before control is returned to the event loop; i.e. pretty soon:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const wait = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(resolve, ms));

wait(0).then(() =&gt; console.log(4));
Promise.resolve()
  .then(() =&gt; console.log(2))
  .then(() =&gt; console.log(3));
console.log(1); // 1, 2, 3, 4
</code></pre></div></div></section><section aria-labelledby="task_queues_vs._microtasks"><h3 id="task_queues_vs._microtasks"><a href="#task_queues_vs._microtasks">Task queues vs. microtasks</a></h3><div class="section-content"><p>Promise callbacks are handled as a <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide">microtask</a> whereas <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout" title="setTimeout()"><code>setTimeout()</code></a> callbacks are handled as task queues.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const promise = new Promise((resolve, reject) =&gt; {
  console.log("Promise callback");
  resolve();
}).then((result) =&gt; {
  console.log("Promise callback (.then)");
});

setTimeout(() =&gt; {
  console.log("event-loop cycle: Promise (fulfilled)", promise);
}, 0);

console.log("Promise (pending)", promise);
</code></pre></div>
<p>The code above will output:</p>
<pre class="brush: plain notranslate">Promise callback
Promise (pending) Promise {&lt;pending&gt;}
Promise callback (.then)
event-loop cycle: Promise (fulfilled) Promise {&lt;fulfilled&gt;}
</pre>
<p>For more details, refer to <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth#tasks_vs._microtasks">Tasks vs. microtasks</a>.</p></div></section><section aria-labelledby="when_promises_and_tasks_collide"><h3 id="when_promises_and_tasks_collide"><a href="#when_promises_and_tasks_collide">When promises and tasks collide</a></h3><div class="section-content"><p>If you run into situations in which you have promises and tasks (such as events or callbacks) which are firing in unpredictable orders, it's possible you may benefit from using a microtask to check status or balance out your promises when promises are created conditionally.</p>
<p>If you think microtasks may help solve this problem, see the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide">microtask guide</a> to learn more about how to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/queueMicrotask" title="queueMicrotask()"><code>queueMicrotask()</code></a> to enqueue a function as a microtask.</p></div></section><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="../Reference/Global_Objects/Promise.html"><code>Promise</code></a></li>
<li><a href="../Reference/Statements/async_function.html"><code>async function</code></a></li>
<li><a href="../Reference/Operators/await.html"><code>await</code></a></li>
<li><a href="https://promisesaplus.com/" class="external" target="_blank">Promises/A+ specification</a></li>
<li><a href="https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html" class="external" target="_blank">We have a problem with promises</a> on pouchdb.com (2015)</li>
</ul>
<ul class="prev-next"><li><a class="button secondary" href="Using_classes.html"><span class="button-wrap"> Previous </span></a></li><li><a class="button secondary" href="Typed_arrays.html"><span class="button-wrap"> Next  </span></a></li></ul></div></section></article></main></div></div></div><script type="application/json" id="hydration">{"url":"/en-US/docs/Web/JavaScript/Guide/Using_promises","doc":{"body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<ul class=\"prev-next\"><li><a class=\"button secondary\" href=\"/en-US/docs/Web/JavaScript/Guide/Using_classes\"><span class=\"button-wrap\"> Previous </span></a></li><li><a class=\"button secondary\" href=\"/en-US/docs/Web/JavaScript/Guide/Typed_arrays\"><span class=\"button-wrap\"> Next  </span></a></li></ul>\n<p>A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> is an object representing the eventual completion or failure of an asynchronous operation. Since most people are consumers of already-created promises, this guide will explain consumption of returned promises before explaining how to create them.</p>\n<p>Essentially, a promise is a returned object to which you attach callbacks, instead of passing callbacks into a function. Imagine a function, <code>createAudioFileAsync()</code>, which asynchronously generates a sound file given a configuration record and two callback functions: one called if the audio file is successfully created, and the other called if an error occurs.</p>\n<p>Here's some code that uses <code>createAudioFileAsync()</code>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function successCallback(result) {\n  console.log(`Audio file ready at URL: ${result}`);\n}\n\nfunction failureCallback(error) {\n  console.error(`Error generating audio file: ${error}`);\n}\n\ncreateAudioFileAsync(audioSettings, successCallback, failureCallback);\n</code></pre></div>\n<p>If <code>createAudioFileAsync()</code> were rewritten to return a promise, you would attach your callbacks to it instead:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>createAudioFileAsync(audioSettings).then(successCallback, failureCallback);\n</code></pre></div>\n<p>This convention has several advantages. We will explore each one.</p>"}},{"type":"prose","value":{"id":"chaining","title":"Chaining","isH3":false,"content":"<p>A common need is to execute two or more asynchronous operations back to back, where each subsequent operation starts when the previous operation succeeds, with the result from the previous step. In the old days, doing several asynchronous operations in a row would lead to the classic <a href=\"http://callbackhell.com/\" class=\"external\" target=\"_blank\">callback hell</a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething(function (result) {\n  doSomethingElse(result, function (newResult) {\n    doThirdThing(newResult, function (finalResult) {\n      console.log(`Got the final result: ${finalResult}`);\n    }, failureCallback);\n  }, failureCallback);\n}, failureCallback);\n</code></pre></div>\n<p>With promises, we accomplish this by creating a promise chain. The API design of promises makes this great, because callbacks are attached to the returned promise object, instead of being passed into a function.</p>\n<p>Here's the magic: the <code>then()</code> function returns a <strong>new promise</strong>, different from the original:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const promise = doSomething();\nconst promise2 = promise.then(successCallback, failureCallback);\n</code></pre></div>\n<p>This second promise (<code>promise2</code>) represents the completion not just of <code>doSomething()</code>, but also of the <code>successCallback</code> or <code>failureCallback</code> you passed in — which can be other asynchronous functions returning a promise. When that's the case, any callbacks added to <code>promise2</code> get queued behind the promise returned by either <code>successCallback</code> or <code>failureCallback</code>.</p>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nIf you want a working example to play with, you can use the following template to create any function returning a promise:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function doSomething() {\n  return new Promise((resolve) =&gt; {\n    setTimeout(() =&gt; {\n      // Other things to do before completion of the promise\n      console.log(\"Did something\");\n      // The fulfillment value of the promise\n      resolve(\"https://example.com/\");\n    }, 200);\n  });\n}\n</code></pre></div>\n<p>The implementation is discussed in the <a href=\"#creating_a_promise_around_an_old_callback_api\">Creating a Promise around an old callback API</a> section below.</p>\n</div>\n<p>With this pattern, you can create longer chains of processing, where each promise represents the completion of one asynchronous step in the chain. In addition, the arguments to <code>then</code> are optional, and <code>catch(failureCallback)</code> is short for <code>then(null, failureCallback)</code> — so if your error handling code is the same for all steps, you can attach it to the end of the chain:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething()\n  .then(function (result) {\n    return doSomethingElse(result);\n  })\n  .then(function (newResult) {\n    return doThirdThing(newResult);\n  })\n  .then(function (finalResult) {\n    console.log(`Got the final result: ${finalResult}`);\n  })\n  .catch(failureCallback);\n</code></pre></div>\n<p>You might see this expressed with <a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">arrow functions</a> instead:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething()\n  .then((result) =&gt; doSomethingElse(result))\n  .then((newResult) =&gt; doThirdThing(newResult))\n  .then((finalResult) =&gt; {\n    console.log(`Got the final result: ${finalResult}`);\n  })\n  .catch(failureCallback);\n</code></pre></div>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nArrow function expressions can have an <a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#function_body\">implicit return</a>; so, <code>() =&gt; x</code> is short for <code>() =&gt; { return x; }</code>.</p>\n</div>\n<p><code>doSomethingElse</code> and <code>doThirdThing</code> can return any value — if they return promises, that promise is first waited until it settles, and the next callback receives the fulfillment value, not the promise itself. It is important to always return promises from <code>then</code> callbacks, even if the promise always resolves to <code>undefined</code>. If the previous handler started a promise but did not return it, there's no way to track its settlement anymore, and the promise is said to be \"floating\".</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>doSomething()\n  .then((url) =&gt; {\n    // Missing `return` keyword in front of fetch(url).\n    fetch(url);\n  })\n  .then((result) =&gt; {\n    // result is undefined, because nothing is returned from the previous\n    // handler. There's no way to know the return value of the fetch()\n    // call anymore, or whether it succeeded at all.\n  });\n</code></pre></div>\n<p>By returning the result of the <code>fetch</code> call (which is a promise), we can both track its completion and receive its value when it completes.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-good notranslate\"><code>doSomething()\n  .then((url) =&gt; {\n    // `return` keyword added\n    return fetch(url);\n  })\n  .then((result) =&gt; {\n    // result is a Response object\n  });\n</code></pre></div>\n<p>Floating promises could be worse if you have race conditions — if the promise from the last handler is not returned, the next <code>then</code> handler will be called early, and any value it reads may be incomplete.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>const listOfIngredients = [];\n\ndoSomething()\n  .then((url) =&gt; {\n    // Missing `return` keyword in front of fetch(url).\n    fetch(url)\n      .then((res) =&gt; res.json())\n      .then((data) =&gt; {\n        listOfIngredients.push(data);\n      });\n  })\n  .then(() =&gt; {\n    console.log(listOfIngredients);\n    // listOfIngredients will always be [], because the fetch request hasn't completed yet.\n  });\n</code></pre></div>\n<p>Therefore, as a rule of thumb, whenever your operation encounters a promise, return it and defer its handling to the next <code>then</code> handler.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-good notranslate\"><code>const listOfIngredients = [];\n\ndoSomething()\n  .then((url) =&gt; {\n    // `return` keyword now included in front of fetch call.\n    return fetch(url)\n      .then((res) =&gt; res.json())\n      .then((data) =&gt; {\n        listOfIngredients.push(data);\n      });\n  })\n  .then(() =&gt; {\n    console.log(listOfIngredients);\n    // listOfIngredients will now contain data from fetch call.\n  });\n</code></pre></div>\n<p>Even better, you can flatten the nested chain into a single chain, which is simpler and makes error handling easier. The details are discussed in the <a href=\"#nesting\">Nesting</a> section below.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething()\n  .then((url) =&gt; fetch(url))\n  .then((res) =&gt; res.json())\n  .then((data) =&gt; {\n    listOfIngredients.push(data);\n  })\n  .then(() =&gt; {\n    console.log(listOfIngredients);\n  });\n</code></pre></div>\n<p>Using <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\"><code>async</code>/<code>await</code></a> can help you write code that's more intuitive and resembles synchronous code. Below is the same example using <code>async</code>/<code>await</code>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>async function logIngredients() {\n  const url = await doSomething();\n  const res = await fetch(url);\n  const data = await res.json();\n  listOfIngredients.push(data);\n  console.log(listOfIngredients);\n}\n</code></pre></div>\n<p>Note how the code looks exactly like synchronous code, except for the <code>await</code> keywords in front of promises. One of the only tradeoffs is that it may be easy to forget the <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\"><code>await</code></a> keyword, which can only be fixed when there's a type mismatch (e.g. trying to use a promise as a value).</p>\n<p><code>async</code>/<code>await</code> builds on promises — for example, <code>doSomething()</code> is the same function as before, so there's minimal refactoring needed to change from promises to <code>async</code>/<code>await</code>. You can read more about the <code>async</code>/<code>await</code> syntax in the <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async functions</a> and <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a> references.</p>\n<div class=\"notecard note\">\n<p><strong>Note:</strong> <code>async</code>/<code>await</code> has the same concurrency semantics as normal promise chains. <code>await</code> within one async function does not stop the entire program, only the parts that depend on its value, so other async jobs can still run while the <code>await</code> is pending.</p>\n</div>"}},{"type":"prose","value":{"id":"error_handling","title":"Error handling","isH3":false,"content":"<p>You might recall seeing <code>failureCallback</code> three times in the pyramid of doom earlier, compared to only once at the end of the promise chain:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething()\n  .then((result) =&gt; doSomethingElse(result))\n  .then((newResult) =&gt; doThirdThing(newResult))\n  .then((finalResult) =&gt; console.log(`Got the final result: ${finalResult}`))\n  .catch(failureCallback);\n</code></pre></div>\n<p>If there's an exception, the browser will look down the chain for <code>.catch()</code> handlers or <code>onRejected</code>. This is very much modeled after how synchronous code works:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>try {\n  const result = syncDoSomething();\n  const newResult = syncDoSomethingElse(result);\n  const finalResult = syncDoThirdThing(newResult);\n  console.log(`Got the final result: ${finalResult}`);\n} catch (error) {\n  failureCallback(error);\n}\n</code></pre></div>\n<p>This symmetry with asynchronous code culminates in the <code>async</code>/<code>await</code> syntax:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>async function foo() {\n  try {\n    const result = await doSomething();\n    const newResult = await doSomethingElse(result);\n    const finalResult = await doThirdThing(newResult);\n    console.log(`Got the final result: ${finalResult}`);\n  } catch (error) {\n    failureCallback(error);\n  }\n}\n</code></pre></div>\n<p>Promises solve a fundamental flaw with the callback pyramid of doom, by catching all errors, even thrown exceptions and programming errors. This is essential for functional composition of asynchronous operations. All errors are now handled by the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\"><code>catch()</code></a> method at the end of the chain, and you should almost never need to use <code>try</code>/<code>catch</code> without using <code>async</code>/<code>await</code>.</p>"}},{"type":"prose","value":{"id":"nesting","title":"Nesting","isH3":true,"content":"<p>In the examples above involving <code>listOfIngredients</code>, the first one has one promise chain nested in the return value of another <code>then()</code> handler, while the second one uses an entirely flat chain. Simple promise chains are best kept flat without nesting, as nesting can be a result of careless composition.</p>\n<p>Nesting is a control structure to limit the scope of <code>catch</code> statements. Specifically, a nested <code>catch</code> only catches failures in its scope and below, not errors higher up in the chain outside the nested scope. When used correctly, this gives greater precision in error recovery:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomethingCritical()\n  .then((result) =&gt;\n    doSomethingOptional(result)\n      .then((optionalResult) =&gt; doSomethingExtraNice(optionalResult))\n      .catch((e) =&gt; {}),\n  ) // Ignore if optional stuff fails; proceed.\n  .then(() =&gt; moreCriticalStuff())\n  .catch((e) =&gt; console.error(`Critical failure: ${e.message}`));\n</code></pre></div>\n<p>Note that the optional steps here are nested — with the nesting caused not by the indentation, but by the placement of the outer <code>(</code> and <code>)</code> parentheses around the steps.</p>\n<p>The inner error-silencing <code>catch</code> handler only catches failures from <code>doSomethingOptional()</code> and <code>doSomethingExtraNice()</code>, after which the code resumes with <code>moreCriticalStuff()</code>. Importantly, if <code>doSomethingCritical()</code> fails, its error is caught by the final (outer) <code>catch</code> only, and does not get swallowed by the inner <code>catch</code> handler.</p>\n<p>In <code>async</code>/<code>await</code>, this code looks like:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>async function main() {\n  try {\n    const result = await doSomethingCritical();\n    try {\n      const optionalResult = await doSomethingOptional(result);\n      await doSomethingExtraNice(optionalResult);\n    } catch (e) {\n      // Ignore failures in optional steps and proceed.\n    }\n    await moreCriticalStuff();\n  } catch (e) {\n    console.error(`Critical failure: ${e.message}`);\n  }\n}\n</code></pre></div>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nIf you don't have sophisticated error handling, you very likely don't need nested <code>then</code> handlers. Instead, use a flat chain and put the error handling logic at the end.</p>\n</div>"}},{"type":"prose","value":{"id":"chaining_after_a_catch","title":"Chaining after a catch","isH3":true,"content":"<p>It's possible to chain <em>after</em> a failure, i.e. a <code>catch</code>, which is useful to accomplish new actions even after an action failed in the chain. Read the following example:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>doSomething()\n  .then(() =&gt; {\n    throw new Error(\"Something failed\");\n\n    console.log(\"Do this\");\n  })\n  .catch(() =&gt; {\n    console.error(\"Do that\");\n  })\n  .then(() =&gt; {\n    console.log(\"Do this, no matter what happened before\");\n  });\n</code></pre></div>\n<p>This will output the following text:</p>\n<pre class=\"brush: plain notranslate\">Initial\nDo that\nDo this, no matter what happened before\n</pre>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nThe text \"Do this\" is not displayed because the \"Something failed\" error caused a rejection.</p>\n</div>\n<p>In <code>async</code>/<code>await</code>, this code looks like:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>async function main() {\n  try {\n    await doSomething();\n    throw new Error(\"Something failed\");\n    console.log(\"Do this\");\n  } catch (e) {\n    console.error(\"Do that\");\n  }\n  console.log(\"Do this, no matter what happened before\");\n}\n</code></pre></div>"}},{"type":"prose","value":{"id":"promise_rejection_events","title":"Promise rejection events","isH3":true,"content":"<p>If a promise rejection event is not handled by any handler, it bubbles to the top of the call stack, and the host needs to surface it. On the web, whenever a promise is rejected, one of two events is sent to the global scope (generally, this is either the <a href=\"/en-US/docs/Web/API/Window\"><code>window</code></a> or, if being used in a web worker, it's the <a href=\"/en-US/docs/Web/API/Worker\"><code>Worker</code></a> or other worker-based interface). The two events are:</p>\n<dl>\n<dt id=\"unhandledrejection\"><a href=\"/en-US/docs/Web/API/Window/unhandledrejection_event\"><code>unhandledrejection</code></a></dt>\n<dd>\n<p>Sent when a promise is rejected but there is no rejection handler available.</p>\n</dd>\n<dt id=\"rejectionhandled\"><a href=\"/en-US/docs/Web/API/Window/rejectionhandled_event\"><code>rejectionhandled</code></a></dt>\n<dd>\n<p>Sent when a handler is attached to a rejected promise that has already caused an <code>unhandledrejection</code> event.</p>\n</dd>\n</dl>\n<p>In both cases, the event (of type <a href=\"/en-US/docs/Web/API/PromiseRejectionEvent\"><code>PromiseRejectionEvent</code></a>) has as members a <a href=\"/en-US/docs/Web/API/PromiseRejectionEvent/promise\"><code>promise</code></a> property indicating the promise that was rejected, and a <a href=\"/en-US/docs/Web/API/PromiseRejectionEvent/reason\"><code>reason</code></a> property that provides the reason given for the promise to be rejected.</p>\n<p>These make it possible to offer fallback error handling for promises, as well as to help debug issues with your promise management. These handlers are global per context, so all errors will go to the same event handlers, regardless of source.</p>\n<p>In <a href=\"/en-US/docs/Glossary/Node.js\">Node.js</a>, handling promise rejection is slightly different. You capture unhandled rejections by adding a handler for the Node.js <code>unhandledRejection</code> event (notice the difference in capitalization of the name), like this:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>process.on(\"unhandledRejection\", (reason, promise) =&gt; {\n  // Add code here to examine the \"promise\" and \"reason\" values\n});\n</code></pre></div>\n<p>For Node.js, to prevent the error from being logged to the console (the default action that would otherwise occur), adding that <code>process.on()</code> listener is all that's necessary; there's no need for an equivalent of the browser runtime's <a href=\"/en-US/docs/Web/API/Event/preventDefault\"><code>preventDefault()</code></a> method.</p>\n<p>However, if you add that <code>process.on</code> listener but don't also have code within it to handle rejected promises, they will just be dropped on the floor and silently ignored. So ideally, you should add code within that listener to examine each rejected promise and make sure it was not caused by an actual code bug.</p>"}},{"type":"prose","value":{"id":"composition","title":"Composition","isH3":false,"content":"<p>There are four <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#promise_concurrency\">composition tools</a> for running asynchronous operations concurrently: <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\"><code>Promise.all()</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled\"><code>Promise.allSettled()</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any\"><code>Promise.any()</code></a>, and <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\"><code>Promise.race()</code></a>.</p>\n<p>We can start operations at the same time and wait for them all to finish like this:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>Promise.all([func1(), func2(), func3()]).then(([result1, result2, result3]) =&gt; {\n  // use result1, result2 and result3\n});\n</code></pre></div>\n<p>If one of the promises in the array rejects, <code>Promise.all()</code> immediately rejects the returned promise and aborts the other operations. This may cause unexpected state or behavior. <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled\"><code>Promise.allSettled()</code></a> is another composition tool that ensures all operations are complete before resolving.</p>\n<p>These methods all run promises concurrently — a sequence of promises are started simultaneously and do not wait for each other. Sequential composition is possible using some clever JavaScript:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>[func1, func2, func3]\n  .reduce((p, f) =&gt; p.then(f), Promise.resolve())\n  .then((result3) =&gt; {\n    /* use result3 */\n  });\n</code></pre></div>\n<p>In this example, we <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">reduce</a> an array of asynchronous functions down to a promise chain. The code above is equivalent to:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>Promise.resolve()\n  .then(func1)\n  .then(func2)\n  .then(func3)\n  .then((result3) =&gt; {\n    /* use result3 */\n  });\n</code></pre></div>\n<p>This can be made into a reusable compose function, which is common in functional programming:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const applyAsync = (acc, val) =&gt; acc.then(val);\nconst composeAsync =\n  (...funcs) =&gt;\n  (x) =&gt;\n    funcs.reduce(applyAsync, Promise.resolve(x));\n</code></pre></div>\n<p>The <code>composeAsync()</code> function accepts any number of functions as arguments and returns a new function that accepts an initial value to be passed through the composition pipeline:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const transformData = composeAsync(func1, func2, func3);\nconst result3 = transformData(data);\n</code></pre></div>\n<p>Sequential composition can also be done more succinctly with async/await:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>let result;\nfor (const f of [func1, func2, func3]) {\n  result = await f(result);\n}\n/* use last result (i.e. result3) */\n</code></pre></div>\n<p>However, before you compose promises sequentially, consider if it's really necessary — it's always better to run promises concurrently so that they don't unnecessarily block each other unless one promise's execution depends on another's result.</p>"}},{"type":"prose","value":{"id":"cancellation","title":"Cancellation","isH3":false,"content":"<p><code>Promise</code> itself has no first-class protocol for cancellation, but you may be able to directly cancel the underlying asynchronous operation, typically using <a href=\"/en-US/docs/Web/API/AbortController\"><code>AbortController</code></a>.</p>"}},{"type":"prose","value":{"id":"creating_a_promise_around_an_old_callback_api","title":"Creating a Promise around an old callback API","isH3":false,"content":"<p>A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> can be created from scratch using its <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise\">constructor</a>. This should be needed only to wrap old APIs.</p>\n<p>In an ideal world, all asynchronous functions would already return promises. Unfortunately, some APIs still expect success and/or failure callbacks to be passed in the old way. The most obvious example is the <a href=\"/en-US/docs/Web/API/Window/setTimeout\" title=\"setTimeout()\"><code>setTimeout()</code></a> function:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>setTimeout(() =&gt; saySomething(\"10 seconds passed\"), 10 * 1000);\n</code></pre></div>\n<p>Mixing old-style callbacks and promises is problematic. If <code>saySomething()</code> fails or contains a programming error, nothing catches it. This is intrinsic to the design of <code>setTimeout()</code>.</p>\n<p>Luckily we can wrap <code>setTimeout()</code> in a promise. The best practice is to wrap the callback-accepting functions at the lowest possible level, and then never call them directly again:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const wait = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(resolve, ms));\n\nwait(10 * 1000)\n  .then(() =&gt; saySomething(\"10 seconds\"))\n  .catch(failureCallback);\n</code></pre></div>\n<p>The promise constructor takes an executor function that lets us resolve or reject a promise manually. Since <code>setTimeout()</code> doesn't really fail, we left out reject in this case. For more information on how the executor function works, see the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise\"><code>Promise()</code></a> reference.</p>"}},{"type":"prose","value":{"id":"timing","title":"Timing","isH3":false,"content":"<p>Lastly, we will look into the more technical details, about when the registered callbacks get called.</p>"}},{"type":"prose","value":{"id":"guarantees","title":"Guarantees","isH3":true,"content":"<p>In the callback-based API, when and how the callback gets called depends on the API implementor. For example, the callback may be called synchronously or asynchronously:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>function doSomething(callback) {\n  if (Math.random() &gt; 0.5) {\n    callback();\n  } else {\n    setTimeout(() =&gt; callback(), 1000);\n  }\n}\n</code></pre></div>\n<p>The above design is strongly discouraged because it leads to the so-called \"state of Zalgo\". In the context of designing asynchronous APIs, this means a callback is called synchronously in some cases but asynchronously in other cases, creating ambiguity for the caller. For further background, see the article <a href=\"https://blog.izs.me/2013/08/designing-apis-for-asynchrony/\" class=\"external\" target=\"_blank\">Designing APIs for Asynchrony</a>, where the term was first formally presented. This API design makes side effects hard to analyze:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>let value = 1;\ndoSomething(() =&gt; {\n  value = 2;\n});\nconsole.log(value); // 1 or 2?\n</code></pre></div>\n<p>On the other hand, promises are a form of <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" class=\"external\" target=\"_blank\">inversion of control</a> — the API implementor does not control when the callback gets called. Instead, the job of maintaining the callback queue and deciding when to call the callbacks is delegated to the promise implementation, and both the API user and API developer automatically gets strong semantic guarantees, including:</p>\n<ul>\n<li>Callbacks added with <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\"><code>then()</code></a> will never be invoked before the <a href=\"/en-US/docs/Web/JavaScript/Event_loop#run-to-completion\">completion of the current run</a> of the JavaScript event loop.</li>\n<li>These callbacks will be invoked even if they were added <em>after</em> the success or failure of the asynchronous operation that the promise represents.</li>\n<li>Multiple callbacks may be added by calling <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\"><code>then()</code></a> several times. They will be invoked one after another, in the order in which they were inserted.</li>\n</ul>\n<p>To avoid surprises, functions passed to <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\"><code>then()</code></a> will never be called synchronously, even with an already-resolved promise:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>Promise.resolve().then(() =&gt; console.log(2));\nconsole.log(1);\n// Logs: 1, 2\n</code></pre></div>\n<p>Instead of running immediately, the passed-in function is put on a microtask queue, which means it runs later (only after the function which created it exits, and when the JavaScript execution stack is empty), just before control is returned to the event loop; i.e. pretty soon:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const wait = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(resolve, ms));\n\nwait(0).then(() =&gt; console.log(4));\nPromise.resolve()\n  .then(() =&gt; console.log(2))\n  .then(() =&gt; console.log(3));\nconsole.log(1); // 1, 2, 3, 4\n</code></pre></div>"}},{"type":"prose","value":{"id":"task_queues_vs._microtasks","title":"Task queues vs. microtasks","isH3":true,"content":"<p>Promise callbacks are handled as a <a href=\"/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\">microtask</a> whereas <a href=\"/en-US/docs/Web/API/Window/setTimeout\" title=\"setTimeout()\"><code>setTimeout()</code></a> callbacks are handled as task queues.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const promise = new Promise((resolve, reject) =&gt; {\n  console.log(\"Promise callback\");\n  resolve();\n}).then((result) =&gt; {\n  console.log(\"Promise callback (.then)\");\n});\n\nsetTimeout(() =&gt; {\n  console.log(\"event-loop cycle: Promise (fulfilled)\", promise);\n}, 0);\n\nconsole.log(\"Promise (pending)\", promise);\n</code></pre></div>\n<p>The code above will output:</p>\n<pre class=\"brush: plain notranslate\">Promise callback\nPromise (pending) Promise {&lt;pending&gt;}\nPromise callback (.then)\nevent-loop cycle: Promise (fulfilled) Promise {&lt;fulfilled&gt;}\n</pre>\n<p>For more details, refer to <a href=\"/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide/In_depth#tasks_vs._microtasks\">Tasks vs. microtasks</a>.</p>"}},{"type":"prose","value":{"id":"when_promises_and_tasks_collide","title":"When promises and tasks collide","isH3":true,"content":"<p>If you run into situations in which you have promises and tasks (such as events or callbacks) which are firing in unpredictable orders, it's possible you may benefit from using a microtask to check status or balance out your promises when promises are created conditionally.</p>\n<p>If you think microtasks may help solve this problem, see the <a href=\"/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\">microtask guide</a> to learn more about how to use <a href=\"/en-US/docs/Web/API/Window/queueMicrotask\" title=\"queueMicrotask()\"><code>queueMicrotask()</code></a> to enqueue a function as a microtask.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\"><code>async function</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a></li>\n<li><a href=\"https://promisesaplus.com/\" class=\"external\" target=\"_blank\">Promises/A+ specification</a></li>\n<li><a href=\"https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\" class=\"external\" target=\"_blank\">We have a problem with promises</a> on pouchdb.com (2015)</li>\n</ul>\n<ul class=\"prev-next\"><li><a class=\"button secondary\" href=\"/en-US/docs/Web/JavaScript/Guide/Using_classes\"><span class=\"button-wrap\"> Previous </span></a></li><li><a class=\"button secondary\" href=\"/en-US/docs/Web/JavaScript/Guide/Typed_arrays\"><span class=\"button-wrap\"> Next  </span></a></li></ul>"}}],"isActive":true,"isMarkdown":true,"isTranslated":false,"locale":"en-US","mdn_url":"/en-US/docs/Web/JavaScript/Guide/Using_promises","modified":"2024-10-07T09:37:56.000Z","native":"English (US)","noIndexing":false,"other_translations":[{"locale":"de","title":"Using promises","native":"Deutsch"},{"locale":"es","title":"Usar promesas","native":"Español"},{"locale":"fr","title":"Utiliser les promesses","native":"Français"},{"locale":"ja","title":"プロミスの使用","native":"日本語"},{"locale":"ko","title":"Using promises","native":"한국어"},{"locale":"pt-BR","title":"Usando promises","native":"Português (do Brasil)"},{"locale":"ru","title":"Использование промисов","native":"Русский"},{"locale":"zh-CN","title":"使用 Promise","native":"中文 (简体)"},{"locale":"zh-TW","title":"使用 Promise","native":"正體中文 (繁體)"}],"pageTitle":"Using promises - JavaScript | MDN","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/JavaScript","title":"JavaScript"},{"uri":"/en-US/docs/Web/JavaScript/Guide","title":"Guide"},{"uri":"/en-US/docs/Web/JavaScript/Guide/Using_promises","title":"Using promises"}],"popularity":null,"short_title":"Using promises","sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript\">JavaScript</a></li><li class=\"section\">Tutorials and guides</li><li class=\"toggle\"><details><summary>Beginner's tutorials</summary><ol><li><a href=\"/en-US/docs/Learn_web_development/Getting_started/Your_first_website/Adding_interactivity\">Your first website: Adding interactivity</a></li><li><a href=\"/en-US/docs/Learn_web_development/Core/Scripting\">Dynamic scripting with JavaScript</a></li><li><a href=\"/en-US/docs/Learn_web_development/Core/Frameworks_libraries\">JavaScript frameworks and libraries</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>JavaScript Guide</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Introduction\">Introduction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Grammar_and_types\">Grammar and types</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling\">Control flow and error handling</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration\">Loops and iteration</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Functions\">Functions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Expressions_and_operators\">Expressions and operators</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Numbers_and_dates\">Numbers and dates</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Text_formatting\">Text formatting</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Regular_expressions\">Regular expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Indexed_collections\">Indexed collections</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Keyed_collections\">Keyed collections</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Working_with_objects\">Working with objects</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Using_classes\">Using classes</a></li><li><em><a href=\"/en-US/docs/Web/JavaScript/Guide/Using_promises\" aria-current=\"page\">Using promises</a></em></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Typed_arrays\">JavaScript typed arrays</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Iterators_and_generators\">Iterators and generators</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Meta_programming\">Meta programming</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Modules\">JavaScript modules</a></li></ol></details></li><li class=\"toggle\"><details><summary>Intermediate</summary><ol><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects\">Advanced JavaScript objects</a></li><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Async_JS\">Asynchronous JavaScript</a></li><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Client-side_APIs\">Client-side web APIs</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Language_overview\">Language overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Data_structures\">JavaScript data structures</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness\">Equality comparisons and sameness</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties\">Enumerability and ownership of properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Closures\">Closures</a></li></ol></details></li><li class=\"toggle\"><details><summary>Advanced</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\">Inheritance and the prototype chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Memory_management\">Memory Management</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Event_loop\">Concurrency model and Event Loop</a></li></ol></details></li><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference\">References</a></li><li class=\"toggle\"><details><summary>Built-in objects</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError\">AggregateError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\">ArrayBuffer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction\">AsyncFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator\">AsyncGenerator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGeneratorFunction\">AsyncGeneratorFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncIterator\">AsyncIterator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics\">Atomics</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\">BigInt</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\">BigInt64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array\">BigUint64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\">Boolean</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\">DataView</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\">Date</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI\">decodeURI()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent\">decodeURIComponent()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI\">encodeURI()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\">encodeURIComponent()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\">Error</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape\">escape()</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\">eval()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError\">EvalError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry\">FinalizationRegistry</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float16Array\">Float16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\">Float32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array\">Float64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function\">Function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">Generator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction\">GeneratorFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis\">globalThis</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity\">Infinity</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array\">Int16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\">Int32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array\">Int8Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError\">InternalError</a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n<span class=\"visually-hidden\">Non-standard</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl\">Intl</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite\">isFinite()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN\">isNaN()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator\">Iterator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\">JSON</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math\">Math</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN\">NaN</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number\">Number</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\">Object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat\">parseFloat()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\">parseInt()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError\">RangeError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError\">ReferenceError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect\">Reflect</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\">RegExp</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\">SharedArrayBuffer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\">String</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">Symbol</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError\">SyntaxError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\">TypedArray</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\">TypeError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array\">Uint16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array\">Uint32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array\">Uint8Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\">Uint8ClampedArray</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\">undefined</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/unescape\">unescape()</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError\">URIError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\">WeakMap</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef\">WeakRef</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\">WeakSet</a></li></ol></details></li><li class=\"toggle\"><details><summary>Expressions &amp; operators</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Addition\">Addition (+)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Addition_assignment\">Addition assignment (+=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Assignment\">Assignment (=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/async_function\">async function expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/async_function*\">async function* expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\">await</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_AND\">Bitwise AND (&amp;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_AND_assignment\">Bitwise AND assignment (&amp;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_NOT\">Bitwise NOT (~)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_OR\">Bitwise OR (|)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_OR_assignment\">Bitwise OR assignment (|=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR\">Bitwise XOR (^)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR_assignment\">Bitwise XOR assignment (^=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/class\">class expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Comma_operator\">Comma operator (,)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_operator\">Conditional (ternary) operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Decrement\">Decrement (--)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/delete\">delete</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">Destructuring assignment</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Division\">Division (/)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Division_assignment\">Division assignment (/=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Equality\">Equality (==)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation\">Exponentiation (**)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation_assignment\">Exponentiation assignment (**=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/function\">function expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/function*\">function* expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Greater_than\">Greater than (&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Greater_than_or_equal\">Greater than or equal (&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Grouping\">Grouping operator ( )</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/import.meta\">import.meta</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/import\">import()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/in\">in</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Increment\">Increment (++)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Inequality\">Inequality (!=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\">instanceof</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Left_shift\">Left shift (&lt;&lt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Left_shift_assignment\">Left shift assignment (&lt;&lt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Less_than\">Less than (&lt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Less_than_or_equal\">Less than or equal (&lt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND\">Logical AND (&amp;&amp;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND_assignment\">Logical AND assignment (&amp;&amp;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_NOT\">Logical NOT (!)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR\">Logical OR (||)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR_assignment\">Logical OR assignment (||=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Multiplication\">Multiplication (*)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Multiplication_assignment\">Multiplication assignment (*=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/new\">new</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/new.target\">new.target</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/null\">null</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_assignment\">Nullish coalescing assignment (??=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing\">Nullish coalescing operator (??)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer\">Object initializer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Operator_precedence\">Operator precedence</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\">Optional chaining (?.)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Property_accessors\">Property accessors</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Remainder\">Remainder (%)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Remainder_assignment\">Remainder assignment (%=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Right_shift\">Right shift (&gt;&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Right_shift_assignment\">Right shift assignment (&gt;&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">Spread syntax (...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality\">Strict equality (===)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Strict_inequality\">Strict inequality (!==)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Subtraction\">Subtraction (-)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Subtraction_assignment\">Subtraction assignment (-=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/super\">super</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/this\">this</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/typeof\">typeof</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unary_negation\">Unary negation (-)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unary_plus\">Unary plus (+)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift\">Unsigned right shift (&gt;&gt;&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift_assignment\">Unsigned right shift assignment (&gt;&gt;&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/void\">void operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield\">yield</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\">yield*</a></li></ol></details></li><li class=\"toggle\"><details><summary>Statements &amp; declarations</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function*\">async function*</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/block\">Block statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/break\">break</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/class\">class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/const\">const</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/continue\">continue</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/debugger\">debugger</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/do...while\">do...while</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/Empty\">Empty statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/export\">export</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/Expression_statement\">Expression statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for\">for</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\">for await...of</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...in\">for...in</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...of\">for...of</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function\">function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\">function*</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/if...else\">if...else</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/import\">import</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/label\">Labeled statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/let\">let</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/return\">return</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/switch\">switch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/throw\">throw</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\">try...catch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/var\">var</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/while\">while</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/with\">with</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details><summary>Functions</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">Arrow function expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\">Default parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/get\">get</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions\">Method definitions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\">Rest parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/set\">set</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/arguments\">The arguments object</a></li></ol></details></li><li class=\"toggle\"><details><summary>Classes</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/constructor\">constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/extends\">extends</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Private_properties\">Private properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields\">Public class fields</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/static\">static</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Static_initialization_blocks\">Static initialization blocks</a></li></ol></details></li><li class=\"toggle\"><details><summary>Regular expressions</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Backreference\">Backreference: \\1, \\2</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Capturing_group\">Capturing group: (...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class_escape\">Character class escape: \\d, \\D, \\w, \\W, \\s, \\S</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class\">Character class: [...], [^...]</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_escape\">Character escape: \\n, \\u{...}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Disjunction\">Disjunction: |</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Input_boundary_assertion\">Input boundary assertion: ^, $</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Literal_character\">Literal character: a, b</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Lookahead_assertion\">Lookahead assertion: (?=...), (?!...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Lookbehind_assertion\">Lookbehind assertion: (?&lt;=...), (?&lt;!...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Modifier\">Modifier: (?ims-ims:...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Named_backreference\">Named backreference: \\k&lt;name&gt;</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Named_capturing_group\">Named capturing group: (?&lt;name&gt;...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Non-capturing_group\">Non-capturing group: (?:...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Quantifier\">Quantifier: *, +, ?, {n}, {n,}, {n,m}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape\">Unicode character class escape: \\p{...}, \\P{...}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Wildcard\">Wildcard: .</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Word_boundary_assertion\">Word boundary assertion: \\b, \\B</a></li></ol></details></li><li class=\"toggle\"><details><summary>Errors</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Promise_any_all_rejected\">AggregateError: No Promise in Promise.any was resolved</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Property_access_denied\">Error: Permission denied to access property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Too_much_recursion\">InternalError: too much recursion</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_valid_code_point\">RangeError: argument is not a valid code point</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_division_by_zero\">RangeError: BigInt division by zero</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_negative_exponent\">RangeError: BigInt negative exponent</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Form_must_be_one_of\">RangeError: form must be one of 'NFC', 'NFD', 'NFKC', or 'NFKD'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\">RangeError: invalid array length</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_date\">RangeError: invalid date</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Precision_range\">RangeError: precision is out of range</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_radix\">RangeError: radix must be an integer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Resulting_string_too_large\">RangeError: repeat count must be less than infinity</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Negative_repetition_count\">RangeError: repeat count must be non-negative</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_be_converted_to_BigInt_because_it_isnt_an_integer\">RangeError: x can't be converted to BigInt because it isn't an integer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_defined\">ReferenceError: \"x\" is not defined</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Undeclared_var\">ReferenceError: assignment to undeclared variable \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init\">ReferenceError: can't access lexical declaration 'X' before initialization</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_caller_or_arguments_usage\">ReferenceError: deprecated caller or arguments usage</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Super_not_called\">ReferenceError: must call super constructor before using 'this' in derived class constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Super_called_twice\">ReferenceError: super() called twice in derived class constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_strict_arguments_eval\">SyntaxError: 'arguments'/'eval' can't be defined or assigned to in strict mode code</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_octal_literal\">SyntaxError: \"0\"-prefixed octal literals are deprecated</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Strict_non_simple_params\">SyntaxError: \"use strict\" not allowed in function with non-simple parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Reserved_identifier\">SyntaxError: \"x\" is a reserved identifier</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_backslash_at_end_of_pattern\">SyntaxError: \\ at end of pattern</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_for-of_initializer\">SyntaxError: a declaration in the head of a for-of loop can't have an initializer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Delete_in_strict_mode\">SyntaxError: applying the 'delete' operator to an unqualified name is deprecated</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Arguments_not_allowed\">SyntaxError: arguments is not valid in fields</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_await\">SyntaxError: await is only valid in async functions, async generators and modules</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/await_yield_in_parameter\">SyntaxError: await/yield expression can't be used in parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_use_nullish_coalescing_unparenthesized\">SyntaxError: cannot use `??` unparenthesized within `||` and `&amp;&amp;` expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_character_class_escape_in_class_range\">SyntaxError: character class escape cannot be used in class range in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_continue\">SyntaxError: continue must be inside loop</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_duplicate_capture_group_name\">SyntaxError: duplicate capture group name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Duplicate_parameter\">SyntaxError: duplicate formal argument x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_for-in_initializer\">SyntaxError: for-in loop head declarations may not have initializers</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unnamed_function_statement\">SyntaxError: function statement requires a name</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Function_label\">SyntaxError: functions cannot be labelled</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Either_be_both_static_or_non-static\">SyntaxError: getter and setter for private name #x should either be both static or non-static</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Getter_no_arguments\">SyntaxError: getter functions must have no arguments</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Identifier_after_number\">SyntaxError: identifier starts immediately after numeric literal</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Illegal_character\">SyntaxError: illegal character</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/import_decl_module_top_level\">SyntaxError: import declarations may only appear at top level of a module</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_incomplete_quantifier\">SyntaxError: incomplete quantifier in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_assignment_left-hand_side\">SyntaxError: invalid assignment left-hand side</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_BigInt_syntax\">SyntaxError: invalid BigInt syntax</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_capture_group_name\">SyntaxError: invalid capture group name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_char_in_class\">SyntaxError: invalid character in class in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_class_set_operation\">SyntaxError: invalid class set operation in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_decimal_escape\">SyntaxError: invalid decimal escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_identity_escape\">SyntaxError: invalid identity escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_named_capture_reference\">SyntaxError: invalid named capture reference in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_property_name\">SyntaxError: invalid property name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_range_in_character_class\">SyntaxError: invalid range in character class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_group\">SyntaxError: invalid regexp group</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_regexp_flag\">SyntaxError: invalid regular expression flag \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_unicode_escape\">SyntaxError: invalid unicode escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/JSON_bad_parse\">SyntaxError: JSON.parse: bad parsing</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Label_not_found\">SyntaxError: label not found</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_colon_after_property_id\">SyntaxError: missing : after property id</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_argument_list\">SyntaxError: missing ) after argument list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_condition\">SyntaxError: missing ) after condition</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_bracket_after_list\">SyntaxError: missing ] after element list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_function_body\">SyntaxError: missing } after function body</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_property_list\">SyntaxError: missing } after property list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const\">SyntaxError: missing = in const declaration</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_formal_parameter\">SyntaxError: missing formal parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_name_after_dot_operator\">SyntaxError: missing name after . operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_variable_name\">SyntaxError: missing variable name</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_negated_char_class_with_strings\">SyntaxError: negated character class with strings in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_new_optional\">SyntaxError: new keyword cannot be used with an optional chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_nothing_to_repeat\">SyntaxError: nothing to repeat</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_numbers_out_of_order_in_quantifier\">SyntaxError: numbers out of order in {} quantifier.</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_octal_escape_sequence\">SyntaxError: octal escape sequences can't be used in untagged template literals or in strict mode code</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Parameter_after_rest_parameter\">SyntaxError: parameter after rest parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_delete_private_fields\">SyntaxError: private fields can't be deleted</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Duplicate_proto\">SyntaxError: property name __proto__ appears more than once in object literal</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_raw_bracket\">SyntaxError: raw bracket is not allowed in regular expression with unicode flag</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter\">SyntaxError: redeclaration of formal parameter \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Undeclared_private_field_or_method\">SyntaxError: reference to undeclared private field or method #x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Rest_with_default\">SyntaxError: rest parameter may not have a default</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return\">SyntaxError: return not in function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Setter_one_argument\">SyntaxError: setter functions must have one argument</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/String_literal_EOL\">SyntaxError: string literal contains an unescaped line break</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_super_call\">SyntaxError: super() is only valid in derived class constructors</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_optional_template\">SyntaxError: tagged template cannot be used with optional chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Hash_outside_class\">SyntaxError: Unexpected '#' used outside of class body</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unexpected_token\">SyntaxError: Unexpected token</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_break\">SyntaxError: unlabeled break must be inside loop or switch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unparenthesized_unary_expr_lhs_exponentiation\">SyntaxError: unparenthesized unary expression can't appear on the left-hand side of '**'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_super_prop\">SyntaxError: use of super property/member accesses only valid within methods or eval code within methods</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_source_map_pragma\">SyntaxError: Using //@ to indicate sourceURL pragmas is deprecated. Use //# instead</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/is_not_iterable\">TypeError: 'x' is not iterable</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unexpected_type\">TypeError: \"x\" is (not) \"y\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_constructor\">TypeError: \"x\" is not a constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_function\">TypeError: \"x\" is not a function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_non-null_object\">TypeError: \"x\" is not a non-null object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Read-only\">TypeError: \"x\" is read-only</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_not_serializable\">TypeError: BigInt value can't be serialized in JSON</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Builtin_ctor_no_new\">TypeError: calling a builtin X constructor without new is forbidden</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Get_set_missing_private\">TypeError: can't access/set private field or method: object is not the right class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_assign_to_property\">TypeError: can't assign to property \"x\" on \"y\": not an object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_convert_BigInt_to_number\">TypeError: can't convert BigInt to number</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_convert_x_to_BigInt\">TypeError: can't convert x to BigInt</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_define_property_object_not_extensible\">TypeError: can't define property \"x\": \"obj\" is not extensible</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Non_configurable_array_element\">TypeError: can't delete non-configurable array element</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_redefine_property\">TypeError: can't redefine non-configurable property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_set_prototype\">TypeError: can't set prototype of this object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_prototype\">TypeError: can't set prototype: it would cause a prototype chain cycle</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/in_operator_no_object\">TypeError: cannot use 'in' operator to search for 'x' in 'y'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Class_ctor_no_new\">TypeError: class constructors must be invoked with 'new'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value\">TypeError: cyclic object value</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_derived_return\">TypeError: derived class constructor returned invalid value x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Private_setter_only\">TypeError: getting private setter-only property</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Private_double_initialization\">TypeError: Initializing an object twice is an error with private fields/methods</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/invalid_right_hand_side_instanceof_operand\">TypeError: invalid 'instanceof' operand 'x'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Array_sort_argument\">TypeError: invalid Array.prototype.sort argument</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment\">TypeError: invalid assignment to const \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Constructor_cant_be_used_directly\">TypeError: Iterator/AsyncIterator constructor can't be used directly</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Requires_global_RegExp\">TypeError: matchAll/replaceAll must be called with a global RegExp</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/More_arguments_needed\">TypeError: More arguments needed</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_properties\">TypeError: null/undefined has no properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_delete\">TypeError: property \"x\" is non-configurable and can't be deleted</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Reduce_of_empty_array_with_no_initial_value\">TypeError: Reduce of empty array with no initial value</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only\">TypeError: setting getter-only property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Key_not_weakly_held\">TypeError: WeakSet key/WeakMap value 'x' must be an object or an unregistered symbol</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Called_on_incompatible_type\">TypeError: X.prototype.y called on incompatible type</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Malformed_URI\">URIError: malformed URI sequence</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Already_has_pragma\">Warning: -file- is being assigned a //# sourceMappingURL, but already has one</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Stmt_after_return\">Warning: unreachable code after return statement</a></li></ol></details></li><li class=\"toggle\"><details><summary>Misc</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/JavaScript_technologies_overview\">JavaScript technologies overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Lexical_grammar\">Lexical grammar</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\">Iteration protocols</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Strict_mode\">Strict mode</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Template_literals\">Template literals</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Trailing_commas\">Trailing commas</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features\">Deprecated features</a></li></ol></details></li></ol>","source":{"folder":"en-us/web/javascript/guide/using_promises","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/guide/using_promises/index.md","last_commit_url":"https://github.com/mdn/content/commit/1b4e6d1156e8471d38deeea1567c35ef412c5f42","filename":"index.md"},"summary":"A Promise is an object representing the eventual completion or failure of an asynchronous operation. Since most people are consumers of already-created promises, this guide will explain consumption of returned promises before explaining how to create them.","title":"Using promises","toc":[{"text":"Chaining","id":"chaining"},{"text":"Error handling","id":"error_handling"},{"text":"Composition","id":"composition"},{"text":"Cancellation","id":"cancellation"},{"text":"Creating a Promise around an old callback API","id":"creating_a_promise_around_an_old_callback_api"},{"text":"Timing","id":"timing"},{"text":"See also","id":"see_also"}],"pageType":"guide"}}</script>

</body><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:02:15 GMT --></html>