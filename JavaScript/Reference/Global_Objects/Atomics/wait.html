<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:11:49 GMT --><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://developer.mozilla.org/favicon-48x48.bc390275e955dacb2e65.png"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Atomics.wait() - JavaScript | MDN</title><link rel="alternate" title="Atomics.wait()" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" hreflang="de"><link rel="alternate" title="Atomics.wait()" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" hreflang="fr"><link rel="alternate" title="Atomics.wait()" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" hreflang="ja"><link rel="alternate" title="Atomics.wait()" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" hreflang="ko"><link rel="alternate" title="Atomics.wait()" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" hreflang="zh"><link rel="alternate" title="Atomics.wait()" href="wait.html" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="https://developer.mozilla.org/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en"><meta name="description" content="The Atomics.wait() static
method verifies that a shared memory location still contains a
given value and if so sleeps, awaiting a wake-up notification or times out. It returns a string which
is either &quot;ok&quot;, &quot;not-equal&quot;, or &quot;timed-out&quot;."><meta property="og:url" content="wait.html"><meta property="og:title" content="Atomics.wait() - JavaScript | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="The Atomics.wait() static
method verifies that a shared memory location still contains a
given value and if so sleeps, awaiting a wake-up notification or times out. It returns a string which
is either &quot;ok&quot;, &quot;not-equal&quot;, or &quot;timed-out&quot;."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="wait.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="https://developer.mozilla.org/static/css/main.65aa8eed.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e]);const o=window.localStorage.getItem("nop");o&&(document.documentElement.dataset.nop=o)}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><div class="page-wrapper  category-javascript document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Atomics.wait()</h1><details class="baseline-indicator high"><summary><span class="indicator" role="img" aria-label="Baseline Check"></span><h2>Baseline<!-- --> <span class="not-bold">Widely available</span></h2><div class="browsers"><span class="engine" title="Supported in Chrome and Edge"><span class="browser chrome supported" role="img" aria-label="Chrome check"></span><span class="browser edge supported" role="img" aria-label="Edge check"></span></span><span class="engine" title="Supported in Firefox"><span class="browser firefox supported" role="img" aria-label="Firefox check"></span></span><span class="engine" title="Supported in Safari"><span class="browser safari supported" role="img" aria-label="Safari check"></span></span></div><span class="icon icon-chevron "></span></summary><div class="extra"><p>This feature is well established and works across many devices and browser versions. Itâ€™s been available across browsers since<!-- --> <!-- -->December 2021<!-- -->.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li><li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li><li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FAtomics%2Fwait&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li></ul></div></details></header><div class="section-content"><p>The <strong><code>Atomics.wait()</code></strong> static
method verifies that a shared memory location still contains a
given value and if so sleeps, awaiting a wake-up notification or times out. It returns a string which
is either <code>"ok"</code>, <code>"not-equal"</code>, or <code>"timed-out"</code>.</p>
<div class="notecard note">
<p><strong>Note:</strong>
This operation only works with an <a href="../Int32Array.html"><code>Int32Array</code></a> or <a href="../BigInt64Array.html"><code>BigInt64Array</code></a> that views a <a href="../SharedArrayBuffer.html"><code>SharedArrayBuffer</code></a>, and may not be allowed on the main thread.
For a non-blocking, asynchronous version of this method, see <a href="waitAsync.html"><code>Atomics.waitAsync()</code></a>.</p>
</div></div><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>Atomics.wait(typedArray, index, value)
Atomics.wait(typedArray, index, value, timeout)
</code></pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters"><a href="#parameters">Parameters</a></h3><div class="section-content"><dl>
<dt id="typedarray"><a href="#typedarray"><code>typedArray</code></a></dt>
<dd>
<p>An <a href="../Int32Array.html"><code>Int32Array</code></a> or <a href="../BigInt64Array.html"><code>BigInt64Array</code></a> that views a <a href="../SharedArrayBuffer.html"><code>SharedArrayBuffer</code></a>.</p>
</dd>
<dt id="index"><a href="#index"><code>index</code></a></dt>
<dd>
<p>The position in the <code>typedArray</code> to wait on.</p>
</dd>
<dt id="value"><a href="#value"><code>value</code></a></dt>
<dd>
<p>The expected value to test.</p>
</dd>
<dt id="timeout"><a href="#timeout"><code>timeout</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>Time to wait in milliseconds. <a href="../NaN.html"><code>NaN</code></a> (and values that get converted to <code>NaN</code>, such as <code>undefined</code>) becomes <a href="../Infinity.html"><code>Infinity</code></a>. Negative values become <code>0</code>.</p>
</dd>
</dl></div></section><section aria-labelledby="return_value"><h3 id="return_value"><a href="#return_value">Return value</a></h3><div class="section-content"><p>A string which is either <code>"ok"</code>, <code>"not-equal"</code>, or <code>"timed-out"</code>.</p></div></section><section aria-labelledby="exceptions"><h3 id="exceptions"><a href="#exceptions">Exceptions</a></h3><div class="section-content"><dl>
<dt id="typeerror"><a href="../TypeError.html"><code>TypeError</code></a></dt>
<dd>
<p>Thrown in one of the following cases:</p>
<ul>
<li>If <code>typedArray</code> is not an <a href="../Int32Array.html"><code>Int32Array</code></a> or <a href="../BigInt64Array.html"><code>BigInt64Array</code></a> that views a <a href="../SharedArrayBuffer.html"><code>SharedArrayBuffer</code></a>.</li>
<li>If the current thread cannot be blocked (for example, because it's the main thread).</li>
</ul>
</dd>
<dt id="rangeerror"><a href="../RangeError.html"><code>RangeError</code></a></dt>
<dd>
<p>Thrown if <code>index</code> is out of bounds in the <code>typedArray</code>.</p>
</dd>
</dl></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="using_wait"><h3 id="using_wait"><a href="#using_wait">Using wait()</a></h3><div class="section-content"><p>Given a shared <code>Int32Array</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const sab = new SharedArrayBuffer(1024);
const int32 = new Int32Array(sab);
</code></pre></div>
<p>A reading thread is sleeping and waiting on location 0 which is expected to be 0. As
long as that is true, it will not go on. However, once the writing thread has stored a
new value, it will be notified by the writing thread and return the new value (123).</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>Atomics.wait(int32, 0, 0);
console.log(int32[0]); // 123
</code></pre></div>
<p>A writing thread stores a new value and notifies the waiting thread once it has
written:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>console.log(int32[0]); // 0;
Atomics.store(int32, 0, 123);
Atomics.notify(int32, 0, 1);
</code></pre></div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://tc39.es/ecma262/multipage/structured-data.html#sec-atomics.wait">ECMAScript Language Specification<!-- --> <br><small># <!-- -->sec-atomics.wait</small></a></td></tr></tbody></table><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><p>BCD tables only load in the browser<noscript> <!-- -->with JavaScript enabled. Enable JavaScript to view data.</noscript></p><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="../Atomics.html"><code>Atomics</code></a></li>
<li><a href="waitAsync.html"><code>Atomics.waitAsync()</code></a></li>
<li><a href="notify.html"><code>Atomics.notify()</code></a></li>
</ul></div></section></article></main></div></div></div><script type="application/json" id="hydration">{"url":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait","doc":{"body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>Atomics.wait()</code></strong> static\nmethod verifies that a shared memory location still contains a\ngiven value and if so sleeps, awaiting a wake-up notification or times out. It returns a string which\nis either <code>\"ok\"</code>, <code>\"not-equal\"</code>, or <code>\"timed-out\"</code>.</p>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nThis operation only works with an <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\"><code>Int32Array</code></a> or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\"><code>BigInt64Array</code></a> that views a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"><code>SharedArrayBuffer</code></a>, and may not be allowed on the main thread.\nFor a non-blocking, asynchronous version of this method, see <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/waitAsync\"><code>Atomics.waitAsync()</code></a>.</p>\n</div>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>Atomics.wait(typedArray, index, value)\nAtomics.wait(typedArray, index, value, timeout)\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n<dt id=\"typedarray\"><a href=\"#typedarray\"><code>typedArray</code></a></dt>\n<dd>\n<p>An <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\"><code>Int32Array</code></a> or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\"><code>BigInt64Array</code></a> that views a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"><code>SharedArrayBuffer</code></a>.</p>\n</dd>\n<dt id=\"index\"><a href=\"#index\"><code>index</code></a></dt>\n<dd>\n<p>The position in the <code>typedArray</code> to wait on.</p>\n</dd>\n<dt id=\"value\"><a href=\"#value\"><code>value</code></a></dt>\n<dd>\n<p>The expected value to test.</p>\n</dd>\n<dt id=\"timeout\"><a href=\"#timeout\"><code>timeout</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>Time to wait in milliseconds. <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN\"><code>NaN</code></a> (and values that get converted to <code>NaN</code>, such as <code>undefined</code>) becomes <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity\"><code>Infinity</code></a>. Negative values become <code>0</code>.</p>\n</dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>A string which is either <code>\"ok\"</code>, <code>\"not-equal\"</code>, or <code>\"timed-out\"</code>.</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n<dt id=\"typeerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a></dt>\n<dd>\n<p>Thrown in one of the following cases:</p>\n<ul>\n<li>If <code>typedArray</code> is not an <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\"><code>Int32Array</code></a> or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\"><code>BigInt64Array</code></a> that views a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"><code>SharedArrayBuffer</code></a>.</li>\n<li>If the current thread cannot be blocked (for example, because it's the main thread).</li>\n</ul>\n</dd>\n<dt id=\"rangeerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError\"><code>RangeError</code></a></dt>\n<dd>\n<p>Thrown if <code>index</code> is out of bounds in the <code>typedArray</code>.</p>\n</dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"using_wait","title":"Using wait()","isH3":true,"content":"<p>Given a shared <code>Int32Array</code>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const sab = new SharedArrayBuffer(1024);\nconst int32 = new Int32Array(sab);\n</code></pre></div>\n<p>A reading thread is sleeping and waiting on location 0 which is expected to be 0. As\nlong as that is true, it will not go on. However, once the writing thread has stored a\nnew value, it will be notified by the writing thread and return the new value (123).</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>Atomics.wait(int32, 0, 0);\nconsole.log(int32[0]); // 123\n</code></pre></div>\n<p>A writing thread stores a new value and notifies the waiting thread once it has\nwritten:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>console.log(int32[0]); // 0;\nAtomics.store(int32, 0, 123);\nAtomics.notify(int32, 0, 1);\n</code></pre></div>"}},{"type":"specifications","value":{"id":"specifications","title":"Specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://tc39.es/ecma262/multipage/structured-data.html#sec-atomics.wait","title":"ECMAScript Language Specification"}],"query":"javascript.builtins.Atomics.wait"}},{"type":"browser_compatibility","value":{"id":"browser_compatibility","title":"Browser compatibility","isH3":false,"query":"javascript.builtins.Atomics.wait"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics\"><code>Atomics</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/waitAsync\"><code>Atomics.waitAsync()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/notify\"><code>Atomics.notify()</code></a></li>\n</ul>"}}],"isActive":true,"isMarkdown":true,"isTranslated":false,"locale":"en-US","mdn_url":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait","modified":"2024-07-25T21:32:46.000Z","native":"English (US)","noIndexing":false,"other_translations":[{"locale":"de","title":"Atomics.wait()","native":"Deutsch"},{"locale":"fr","title":"Atomics.wait()","native":"FranÃ§ais"},{"locale":"ja","title":"Atomics.wait()","native":"æ—¥æœ¬èªž"},{"locale":"ko","title":"Atomics.wait()","native":"í•œêµ­ì–´"},{"locale":"zh-CN","title":"Atomics.wait()","native":"ä¸­æ–‡ (ç®€ä½“)"}],"pageTitle":"Atomics.wait() - JavaScript | MDN","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/JavaScript","title":"JavaScript"},{"uri":"/en-US/docs/Web/JavaScript/Reference","title":"Reference"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects","title":"Standard built-in objects"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics","title":"Atomics"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait","title":"Atomics.wait()"}],"popularity":null,"short_title":"Atomics.wait()","sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects\">Standard built-in objects</a></li><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics\"><code>Atomics</code></a></li><li class=\"toggle\"><details open=\"\"><summary>Static methods</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/add\"><code>Atomics.add()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/and\"><code>Atomics.and()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/compareExchange\"><code>Atomics.compareExchange()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/exchange\"><code>Atomics.exchange()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/isLockFree\"><code>Atomics.isLockFree()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/load\"><code>Atomics.load()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/notify\"><code>Atomics.notify()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/or\"><code>Atomics.or()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/store\"><code>Atomics.store()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/sub\"><code>Atomics.sub()</code></a></li><li><em><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait\" aria-current=\"page\"><code>Atomics.wait()</code></a></em></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/waitAsync\"><code>Atomics.waitAsync()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/xor\"><code>Atomics.xor()</code></a></li></ol></details></li></ol>","source":{"folder":"en-us/web/javascript/reference/global_objects/atomics/wait","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/atomics/wait/index.md","last_commit_url":"https://github.com/mdn/content/commit/8421c0cd94fa5aa237c833ac6d24885edbc7d721","filename":"index.md"},"summary":"The Atomics.wait() static\nmethod verifies that a shared memory location still contains a\ngiven value and if so sleeps, awaiting a wake-up notification or times out. It returns a string which\nis either \"ok\", \"not-equal\", or \"timed-out\".","title":"Atomics.wait()","toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"baseline":{"baseline":"high","baseline_low_date":"2021-12-13","baseline_high_date":"2024-06-13","support":{"chrome":"68","chrome_android":"89","edge":"79","firefox":"79","firefox_android":"79","safari":"15.2","safari_ios":"15.2"}},"browserCompat":["javascript.builtins.Atomics.wait"],"pageType":"javascript-static-method"}}</script>

</body><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:11:50 GMT --></html>