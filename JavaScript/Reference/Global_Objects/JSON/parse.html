<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:11:36 GMT --><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://developer.mozilla.org/favicon-48x48.bc390275e955dacb2e65.png"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>JSON.parse()</title><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="de"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="es"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="fr"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="ja"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="ko"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="pt"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="ru"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="zh"><link rel="alternate" title="JSON.parse()" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" hreflang="zh-Hant"><link rel="alternate" title="JSON.parse()" href="parse.html" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="https://developer.mozilla.org/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en"><meta name="description" content="The JSON.parse() static method parses a JSON string, constructing the JavaScript value or object described by the string. An optional reviver function can be provided to perform a transformation on the resulting object before it is returned."><meta property="og:url" content="parse.html"><meta property="og:title" content="JSON.parse() - JavaScript | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="The JSON.parse() static method parses a JSON string, constructing the JavaScript value or object described by the string. An optional reviver function can be provided to perform a transformation on the resulting object before it is returned."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="parse.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="https://developer.mozilla.org/static/css/main.65aa8eed.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e]);const o=window.localStorage.getItem("nop");o&&(document.documentElement.dataset.nop=o)}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><div class="page-wrapper  category-javascript document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>JSON.parse()</h1><details class="baseline-indicator high"><summary><span class="indicator" role="img" aria-label="Baseline Check"></span><h2>Baseline<!-- --> <span class="not-bold">Widely available</span></h2><div class="browsers"><span class="engine" title="Supported in Chrome and Edge"><span class="browser chrome supported" role="img" aria-label="Chrome check"></span><span class="browser edge supported" role="img" aria-label="Edge check"></span></span><span class="engine" title="Supported in Firefox"><span class="browser firefox supported" role="img" aria-label="Firefox check"></span></span><span class="engine" title="Supported in Safari"><span class="browser safari supported" role="img" aria-label="Safari check"></span></span></div><span class="icon icon-chevron "></span></summary><div class="extra"><p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since<!-- --> <!-- -->July 2015<!-- -->.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li><li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li><li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FJSON%2Fparse&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li></ul></div></details></header><div class="section-content"><p>The <strong><code>JSON.parse()</code></strong> static method parses a JSON string, constructing the JavaScript value or object described by the string. An optional <em>reviver</em> function can be provided to perform a transformation on the resulting object before it is returned.</p></div><section aria-labelledby="try_it"><h2 id="try_it"><a href="#try_it">Try it</a></h2><div class="section-content"><a href="https://interactive-examples.mdn.mozilla.net/pages/js/json-parse.html">MDN Web Docs Interactive Example</a></div></section><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>JSON.parse(text)
JSON.parse(text, reviver)
</code></pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters"><a href="#parameters">Parameters</a></h3><div class="section-content"><dl>
<dt id="text"><a href="#text"><code>text</code></a></dt>
<dd>
<p>The string to parse as JSON. See the <a href="../JSON.html"><code>JSON</code></a> object for a description of JSON syntax.</p>
</dd>
<dt id="reviver"><a href="#reviver"><code>reviver</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>If a function, this prescribes how each value originally produced by parsing is transformed before being returned. Non-callable values are ignored. The function is called with the following arguments:</p>
<dl>
<dt id="key"><a href="#key"><code>key</code></a></dt>
<dd>
<p>The key associated with the value.</p>
</dd>
<dt id="value"><a href="#value"><code>value</code></a></dt>
<dd>
<p>The value produced by parsing.</p>
</dd>
<dt id="context"><a href="#context"><code>context</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A context object that holds state relevant to the current expression being revived. It is a new object for each invocation of the reviver function. It is only passed when reviving primitive values, but not when <code>value</code> is an object or array. It contains the following property:</p>
<dl>
<dt id="source"><a href="#source"><code>source</code></a></dt>
<dd>
<p>The original JSON string representing this value.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl></div></section><section aria-labelledby="return_value"><h3 id="return_value"><a href="#return_value">Return value</a></h3><div class="section-content"><p>The <a href="../Object.html"><code>Object</code></a>, <a href="../Array.html"><code>Array</code></a>, string, number, boolean, or <code>null</code> value corresponding to the given JSON <code>text</code>.</p></div></section><section aria-labelledby="exceptions"><h3 id="exceptions"><a href="#exceptions">Exceptions</a></h3><div class="section-content"><dl>
<dt id="syntaxerror"><a href="../SyntaxError.html"><code>SyntaxError</code></a></dt>
<dd>
<p>Thrown if the string to parse is not valid JSON.</p>
</dd>
</dl></div></section><section aria-labelledby="description"><h2 id="description"><a href="#description">Description</a></h2><div class="section-content"><p><code>JSON.parse()</code> parses a JSON string according to the <a href="../JSON.html#full_json_grammar">JSON grammar</a>, then evaluates the string as if it's a JavaScript expression. The only instance where a piece of JSON text represents a different value from the same JavaScript expression is when dealing with the <code>"__proto__"</code> key — see <a href="../../Operators/Object_initializer.html#object_literal_syntax_vs._json">Object literal syntax vs. JSON</a>.</p></div></section><section aria-labelledby="the_reviver_parameter"><h3 id="the_reviver_parameter"><a href="#the_reviver_parameter">The reviver parameter</a></h3><div class="section-content"><p>If a <code>reviver</code> is specified, the value computed by parsing is <em>transformed</em> before being returned. Specifically, the computed value and all its properties (in a <a href="https://en.wikipedia.org/wiki/Depth-first_search" class="external" target="_blank">depth-first</a> fashion, beginning with the most nested properties and proceeding to the original value itself) are individually run through the <code>reviver</code>.</p>
<p>The <code>reviver</code> is called with the object containing the property being processed as <code>this</code> (unless you define the <code>reviver</code> as an arrow function, in which case there's no separate <code>this</code> binding) and two arguments: <code>key</code> and <code>value</code>, representing the property name as a string (even for arrays) and the property value. For primitive values, an additional <code>context</code> parameter is passed, which contains the source text of this value. If the <code>reviver</code> function returns <a href="../undefined.html"><code>undefined</code></a> (or returns no value — for example, if execution falls off the end of the function), the property is deleted from the object. Otherwise, the property is redefined to be the return value. If the <code>reviver</code> only transforms some values and not others, be certain to return all untransformed values as-is — otherwise, they will be deleted from the resulting object.</p>
<p>Similar to the <code>replacer</code> parameter of <a href="stringify.html"><code>JSON.stringify()</code></a>, for arrays and objects, <code>reviver</code> will be last called on the root value with an empty string as the <code>key</code> and the root object as the <code>value</code>. For other valid JSON values, <code>reviver</code> works similarly and is called once with an empty string as the <code>key</code> and the value itself as the <code>value</code>.</p>
<p>If you return another value from <code>reviver</code>, that value will completely replace the originally parsed value. This even applies to the root value. For example:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const transformedObj1 = JSON.parse('[1,5,{"s":1}]', (key, value) =&gt; {
  return typeof value === "object" ? undefined : value;
});

console.log(transformedObj1); // undefined
</code></pre></div>
<p>There is no way to work around this generically. You cannot specially handle the case where <code>key</code> is an empty string, because JSON objects can also contain keys that are empty strings. You need to know very precisely what kind of transformation is needed for each key when implementing the reviver.</p>
<p>Note that <code>reviver</code> is run after the value is parsed. So, for example, numbers in JSON text will have already been converted to JavaScript numbers, and may lose precision in the process. One way to transfer large numbers without loss of precision is to serialize them as strings, and revive them to <a href="../BigInt.html">BigInts</a>, or other appropriate arbitrary precision formats.</p>
<p>You can also use the <code>context.source</code> property to access the original JSON source text representing the value, as shown below:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const bigJSON = '{"gross_gdp": 12345678901234567890}';
const bigObj = JSON.parse(bigJSON, (key, value, context) =&gt; {
  if (key === "gross_gdp") {
    // Ignore the value because it has already lost precision
    return BigInt(context.source);
  }
  return value;
});
</code></pre></div></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="using_json.parse"><h3 id="using_json.parse"><a href="#using_json.parse">Using JSON.parse()</a></h3><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>JSON.parse("{}"); // {}
JSON.parse("true"); // true
JSON.parse('"foo"'); // "foo"
JSON.parse('[1, 5, "false"]'); // [1, 5, "false"]
JSON.parse("null"); // null
</code></pre></div></div></section><section aria-labelledby="using_the_reviver_parameter"><h3 id="using_the_reviver_parameter"><a href="#using_the_reviver_parameter">Using the reviver parameter</a></h3><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>JSON.parse(
  '{"p": 5}',
  (key, value) =&gt;
    typeof value === "number"
      ? value * 2 // return value * 2 for numbers
      : value, // return everything else unchanged
);
// { p: 10 }

JSON.parse('{"1": 1, "2": 2, "3": {"4": 4, "5": {"6": 6}}}', (key, value) =&gt; {
  console.log(key);
  return value;
});
// 1
// 2
// 4
// 6
// 5
// 3
// ""
</code></pre></div></div></section><section aria-labelledby="using_reviver_when_paired_with_the_replacer_of_json.stringify"><h3 id="using_reviver_when_paired_with_the_replacer_of_json.stringify"><a href="#using_reviver_when_paired_with_the_replacer_of_json.stringify">Using reviver when paired with the replacer of JSON.stringify()</a></h3><div class="section-content"><p>In order for a value to properly round-trip (that is, it gets deserialized to the same original object), the serialization process must preserve the type information. For example, you can use the <code>replacer</code> parameter of <a href="stringify.html"><code>JSON.stringify()</code></a> for this purpose:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>// Maps are normally serialized as objects with no properties.
// We can use the replacer to specify the entries to be serialized.
const map = new Map([
  [1, "one"],
  [2, "two"],
  [3, "three"],
]);

const jsonText = JSON.stringify(map, (key, value) =&gt;
  value instanceof Map ? Array.from(value.entries()) : value,
);

console.log(jsonText);
// [[1,"one"],[2,"two"],[3,"three"]]

const map2 = JSON.parse(jsonText, (key, value) =&gt;
  Array.isArray(value) ? new Map(value) : value,
);

console.log(map2);
// Map { 1 =&gt; "one", 2 =&gt; "two", 3 =&gt; "three" }
</code></pre></div>
<p>Because JSON has no syntax space for annotating type metadata, in order to revive values that are not plain objects, you have to consider one of the following:</p>
<ul>
<li>Serialize the entire object to a string and prefix it with a type tag.</li>
<li>"Guess" based on the structure of the data (for example, an array of two-member arrays)</li>
<li>If the shape of the payload is fixed, based on the property name (for example, all properties called <code>registry</code> hold <code>Map</code> objects).</li>
</ul></div></section><section aria-labelledby="illegal_json"><h3 id="illegal_json"><a href="#illegal_json">Illegal JSON</a></h3><div class="section-content"><p>When <code>JSON.parse</code> receives a string that does not conform to the JSON grammar, it throws a <code>SyntaxError</code>.</p>
<p>Arrays and objects cannot have <a href="../../Trailing_commas.html">trailing commas</a> in JSON:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>JSON.parse("[1, 2, 3, 4, ]");
// SyntaxError: Unexpected token ] in JSON at position 13

JSON.parse('{"foo": 1, }');
// SyntaxError: Unexpected token } in JSON at position 12
</code></pre></div>
<p>JSON strings must be delimited by double (not single) quotes:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>JSON.parse("{'foo': 1}");
// SyntaxError: Unexpected token ' in JSON at position 1

JSON.parse("'string'");
// SyntaxError: Unexpected token ' in JSON at position 0
</code></pre></div>
<p>If you are writing JSON inside a JavaScript string literal, you should either use single quotes to delimit the JavaScript string literal, or escape the double quotes that delimit the JSON string:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-good notranslate"><code>JSON.parse('{"foo": 1}'); // OK
JSON.parse("{\"foo\": 1}"); // OK
</code></pre></div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://tc39.es/ecma262/multipage/structured-data.html#sec-json.parse">ECMAScript Language Specification<!-- --> <br><small># <!-- -->sec-json.parse</small></a></td></tr></tbody></table><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><p>BCD tables only load in the browser<noscript> <!-- -->with JavaScript enabled. Enable JavaScript to view data.</noscript></p><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="https://github.com/zloirock/core-js#jsonparse-source-text-access" class="external" target="_blank">Polyfill of modern <code>JSON.parse</code> behavior (reviver's <code>context</code> parameter) in <code>core-js</code></a></li>
<li><a href="stringify.html"><code>JSON.stringify()</code></a></li>
</ul></div></section></article></main></div></div></div><script type="application/json" id="hydration">{"url":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse","doc":{"body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>JSON.parse()</code></strong> static method parses a JSON string, constructing the JavaScript value or object described by the string. An optional <em>reviver</em> function can be provided to perform a transformation on the resulting object before it is returned.</p>"}},{"type":"prose","value":{"id":"try_it","title":"Try it","isH3":false,"content":"<iframe class=\"interactive is-js-height\" height=\"200\" src=\"https://interactive-examples.mdn.mozilla.net/pages/js/json-parse.html\" title=\"MDN Web Docs Interactive Example\" allow=\"clipboard-write\" loading=\"lazy\"></iframe>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>JSON.parse(text)\nJSON.parse(text, reviver)\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n<dt id=\"text\"><a href=\"#text\"><code>text</code></a></dt>\n<dd>\n<p>The string to parse as JSON. See the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\"><code>JSON</code></a> object for a description of JSON syntax.</p>\n</dd>\n<dt id=\"reviver\"><a href=\"#reviver\"><code>reviver</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>If a function, this prescribes how each value originally produced by parsing is transformed before being returned. Non-callable values are ignored. The function is called with the following arguments:</p>\n<dl>\n<dt id=\"key\"><a href=\"#key\"><code>key</code></a></dt>\n<dd>\n<p>The key associated with the value.</p>\n</dd>\n<dt id=\"value\"><a href=\"#value\"><code>value</code></a></dt>\n<dd>\n<p>The value produced by parsing.</p>\n</dd>\n<dt id=\"context\"><a href=\"#context\"><code>context</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A context object that holds state relevant to the current expression being revived. It is a new object for each invocation of the reviver function. It is only passed when reviving primitive values, but not when <code>value</code> is an object or array. It contains the following property:</p>\n<dl>\n<dt id=\"source\"><a href=\"#source\"><code>source</code></a></dt>\n<dd>\n<p>The original JSON string representing this value.</p>\n</dd>\n</dl>\n</dd>\n</dl>\n</dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\"><code>Object</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a>, string, number, boolean, or <code>null</code> value corresponding to the given JSON <code>text</code>.</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n<dt id=\"syntaxerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError\"><code>SyntaxError</code></a></dt>\n<dd>\n<p>Thrown if the string to parse is not valid JSON.</p>\n</dd>\n</dl>"}},{"type":"prose","value":{"id":"description","title":"Description","isH3":false,"content":"<p><code>JSON.parse()</code> parses a JSON string according to the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#full_json_grammar\">JSON grammar</a>, then evaluates the string as if it's a JavaScript expression. The only instance where a piece of JSON text represents a different value from the same JavaScript expression is when dealing with the <code>\"__proto__\"</code> key — see <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#object_literal_syntax_vs._json\">Object literal syntax vs. JSON</a>.</p>"}},{"type":"prose","value":{"id":"the_reviver_parameter","title":"The reviver parameter","isH3":true,"content":"<p>If a <code>reviver</code> is specified, the value computed by parsing is <em>transformed</em> before being returned. Specifically, the computed value and all its properties (in a <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" class=\"external\" target=\"_blank\">depth-first</a> fashion, beginning with the most nested properties and proceeding to the original value itself) are individually run through the <code>reviver</code>.</p>\n<p>The <code>reviver</code> is called with the object containing the property being processed as <code>this</code> (unless you define the <code>reviver</code> as an arrow function, in which case there's no separate <code>this</code> binding) and two arguments: <code>key</code> and <code>value</code>, representing the property name as a string (even for arrays) and the property value. For primitive values, an additional <code>context</code> parameter is passed, which contains the source text of this value. If the <code>reviver</code> function returns <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a> (or returns no value — for example, if execution falls off the end of the function), the property is deleted from the object. Otherwise, the property is redefined to be the return value. If the <code>reviver</code> only transforms some values and not others, be certain to return all untransformed values as-is — otherwise, they will be deleted from the resulting object.</p>\n<p>Similar to the <code>replacer</code> parameter of <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code></a>, for arrays and objects, <code>reviver</code> will be last called on the root value with an empty string as the <code>key</code> and the root object as the <code>value</code>. For other valid JSON values, <code>reviver</code> works similarly and is called once with an empty string as the <code>key</code> and the value itself as the <code>value</code>.</p>\n<p>If you return another value from <code>reviver</code>, that value will completely replace the originally parsed value. This even applies to the root value. For example:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const transformedObj1 = JSON.parse('[1,5,{\"s\":1}]', (key, value) =&gt; {\n  return typeof value === \"object\" ? undefined : value;\n});\n\nconsole.log(transformedObj1); // undefined\n</code></pre></div>\n<p>There is no way to work around this generically. You cannot specially handle the case where <code>key</code> is an empty string, because JSON objects can also contain keys that are empty strings. You need to know very precisely what kind of transformation is needed for each key when implementing the reviver.</p>\n<p>Note that <code>reviver</code> is run after the value is parsed. So, for example, numbers in JSON text will have already been converted to JavaScript numbers, and may lose precision in the process. One way to transfer large numbers without loss of precision is to serialize them as strings, and revive them to <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\">BigInts</a>, or other appropriate arbitrary precision formats.</p>\n<p>You can also use the <code>context.source</code> property to access the original JSON source text representing the value, as shown below:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const bigJSON = '{\"gross_gdp\": 12345678901234567890}';\nconst bigObj = JSON.parse(bigJSON, (key, value, context) =&gt; {\n  if (key === \"gross_gdp\") {\n    // Ignore the value because it has already lost precision\n    return BigInt(context.source);\n  }\n  return value;\n});\n</code></pre></div>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"using_json.parse","title":"Using JSON.parse()","isH3":true,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>JSON.parse(\"{}\"); // {}\nJSON.parse(\"true\"); // true\nJSON.parse('\"foo\"'); // \"foo\"\nJSON.parse('[1, 5, \"false\"]'); // [1, 5, \"false\"]\nJSON.parse(\"null\"); // null\n</code></pre></div>"}},{"type":"prose","value":{"id":"using_the_reviver_parameter","title":"Using the reviver parameter","isH3":true,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>JSON.parse(\n  '{\"p\": 5}',\n  (key, value) =&gt;\n    typeof value === \"number\"\n      ? value * 2 // return value * 2 for numbers\n      : value, // return everything else unchanged\n);\n// { p: 10 }\n\nJSON.parse('{\"1\": 1, \"2\": 2, \"3\": {\"4\": 4, \"5\": {\"6\": 6}}}', (key, value) =&gt; {\n  console.log(key);\n  return value;\n});\n// 1\n// 2\n// 4\n// 6\n// 5\n// 3\n// \"\"\n</code></pre></div>"}},{"type":"prose","value":{"id":"using_reviver_when_paired_with_the_replacer_of_json.stringify","title":"Using reviver when paired with the replacer of JSON.stringify()","isH3":true,"content":"<p>In order for a value to properly round-trip (that is, it gets deserialized to the same original object), the serialization process must preserve the type information. For example, you can use the <code>replacer</code> parameter of <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code></a> for this purpose:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>// Maps are normally serialized as objects with no properties.\n// We can use the replacer to specify the entries to be serialized.\nconst map = new Map([\n  [1, \"one\"],\n  [2, \"two\"],\n  [3, \"three\"],\n]);\n\nconst jsonText = JSON.stringify(map, (key, value) =&gt;\n  value instanceof Map ? Array.from(value.entries()) : value,\n);\n\nconsole.log(jsonText);\n// [[1,\"one\"],[2,\"two\"],[3,\"three\"]]\n\nconst map2 = JSON.parse(jsonText, (key, value) =&gt;\n  Array.isArray(value) ? new Map(value) : value,\n);\n\nconsole.log(map2);\n// Map { 1 =&gt; \"one\", 2 =&gt; \"two\", 3 =&gt; \"three\" }\n</code></pre></div>\n<p>Because JSON has no syntax space for annotating type metadata, in order to revive values that are not plain objects, you have to consider one of the following:</p>\n<ul>\n<li>Serialize the entire object to a string and prefix it with a type tag.</li>\n<li>\"Guess\" based on the structure of the data (for example, an array of two-member arrays)</li>\n<li>If the shape of the payload is fixed, based on the property name (for example, all properties called <code>registry</code> hold <code>Map</code> objects).</li>\n</ul>"}},{"type":"prose","value":{"id":"illegal_json","title":"Illegal JSON","isH3":true,"content":"<p>When <code>JSON.parse</code> receives a string that does not conform to the JSON grammar, it throws a <code>SyntaxError</code>.</p>\n<p>Arrays and objects cannot have <a href=\"/en-US/docs/Web/JavaScript/Reference/Trailing_commas\">trailing commas</a> in JSON:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>JSON.parse(\"[1, 2, 3, 4, ]\");\n// SyntaxError: Unexpected token ] in JSON at position 13\n\nJSON.parse('{\"foo\": 1, }');\n// SyntaxError: Unexpected token } in JSON at position 12\n</code></pre></div>\n<p>JSON strings must be delimited by double (not single) quotes:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>JSON.parse(\"{'foo': 1}\");\n// SyntaxError: Unexpected token ' in JSON at position 1\n\nJSON.parse(\"'string'\");\n// SyntaxError: Unexpected token ' in JSON at position 0\n</code></pre></div>\n<p>If you are writing JSON inside a JavaScript string literal, you should either use single quotes to delimit the JavaScript string literal, or escape the double quotes that delimit the JSON string:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-good notranslate\"><code>JSON.parse('{\"foo\": 1}'); // OK\nJSON.parse(\"{\\\"foo\\\": 1}\"); // OK\n</code></pre></div>"}},{"type":"specifications","value":{"id":"specifications","title":"Specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://tc39.es/ecma262/multipage/structured-data.html#sec-json.parse","title":"ECMAScript Language Specification"}],"query":"javascript.builtins.JSON.parse"}},{"type":"browser_compatibility","value":{"id":"browser_compatibility","title":"Browser compatibility","isH3":false,"query":"javascript.builtins.JSON.parse"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n<li><a href=\"https://github.com/zloirock/core-js#jsonparse-source-text-access\" class=\"external\" target=\"_blank\">Polyfill of modern <code>JSON.parse</code> behavior (reviver's <code>context</code> parameter) in <code>core-js</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code></a></li>\n</ul>"}}],"isActive":true,"isMarkdown":true,"isTranslated":false,"locale":"en-US","mdn_url":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse","modified":"2024-06-12T12:33:49.000Z","native":"English (US)","noIndexing":false,"other_translations":[{"locale":"de","title":"JSON.parse()","native":"Deutsch"},{"locale":"es","title":"JSON.parse()","native":"Español"},{"locale":"fr","title":"JSON.parse()","native":"Français"},{"locale":"ja","title":"JSON.parse()","native":"日本語"},{"locale":"ko","title":"JSON.parse()","native":"한국어"},{"locale":"pt-BR","title":"JSON.parse()","native":"Português (do Brasil)"},{"locale":"ru","title":"JSON.parse()","native":"Русский"},{"locale":"zh-CN","title":"JSON.parse()","native":"中文 (简体)"},{"locale":"zh-TW","title":"JSON.parse()","native":"正體中文 (繁體)"}],"pageTitle":"JSON.parse() - JavaScript | MDN","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/JavaScript","title":"JavaScript"},{"uri":"/en-US/docs/Web/JavaScript/Reference","title":"Reference"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects","title":"Standard built-in objects"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON","title":"JSON"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse","title":"JSON.parse()"}],"popularity":null,"short_title":"JSON.parse()","sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects\">Standard built-in objects</a></li><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\"><code>JSON</code></a></li><li class=\"toggle\"><details open=\"\"><summary>Static methods</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/isRawJSON\"><code>JSON.isRawJSON()</code></a></li><li><em><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" aria-current=\"page\"><code>JSON.parse()</code></a></em></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/rawJSON\"><code>JSON.rawJSON()</code></a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code></a></li></ol></details></li></ol>","source":{"folder":"en-us/web/javascript/reference/global_objects/json/parse","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/json/parse/index.md","last_commit_url":"https://github.com/mdn/content/commit/c3951963f6d3397d21624cfc94a72203acad6412","filename":"index.md"},"summary":"The JSON.parse() static method parses a JSON string, constructing the JavaScript value or object described by the string. An optional reviver function can be provided to perform a transformation on the resulting object before it is returned.","title":"JSON.parse()","toc":[{"text":"Try it","id":"try_it"},{"text":"Syntax","id":"syntax"},{"text":"Description","id":"description"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"baseline":{"baseline":"high","baseline_low_date":"2015-07-29","baseline_high_date":"2018-01-29","support":{"chrome":"3","chrome_android":"18","edge":"12","firefox":"3.5","firefox_android":"4","safari":"4","safari_ios":"4"},"asterisk":true},"browserCompat":["javascript.builtins.JSON.parse"],"pageType":"javascript-static-method"}}</script>

</body><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:11:37 GMT --></html>