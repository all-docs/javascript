<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:08:48 GMT --><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="https://developer.mozilla.org/favicon-48x48.bc390275e955dacb2e65.png"><link rel="apple-touch-icon" href="https://developer.mozilla.org/apple-touch-icon.528534bba673c38049c2.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.f42880861b394dd4dc9b.json"><link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/opensearch.xml" title="MDN Web Docs"><title>Iteration protocols</title><link rel="alternate" title="Iterationsprotokolle" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="de"><link rel="alternate" title="Protocolos de Iteración" href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="es"><link rel="alternate" title="Les protocoles d'itération" href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="fr"><link rel="alternate" title="反復処理プロトコル" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="ja"><link rel="alternate" title="Iteration protocols" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="ko"><link rel="alternate" title="Iteration protocols" href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="pt"><link rel="alternate" title="The Iterator protocol" href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="ru"><link rel="alternate" title="迭代协议" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="zh"><link rel="alternate" title="迭代協議" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Iteration_protocols" hreflang="zh-Hant"><link rel="alternate" title="Iteration protocols" href="Iteration_protocols.html" hreflang="en"><link rel="preload" as="font" type="font/woff2" href="https://developer.mozilla.org/static/media/Inter.var.c2fe3cb2b7c746f7966a.woff2" crossorigin=""><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en"><meta name="description" content="Iteration protocols aren't new built-ins or syntax, but protocols. These protocols can be implemented by any object by following some conventions."><meta property="og:url" content="Iteration_protocols.html"><meta property="og:title" content="Iteration protocols - JavaScript | MDN"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:description" content="Iteration protocols aren't new built-ins or syntax, but protocols. These protocols can be implemented by any object by following some conventions."><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.d893525a4fb5fb1f67a2.png"><meta property="og:image:type" content="image/png"><meta property="og:image:height" content="1080"><meta property="og:image:width" content="1920"><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."><meta property="og:site_name" content="MDN Web Docs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="MozDevNet"><link rel="canonical" href="Iteration_protocols.html"><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="https://developer.mozilla.org/static/css/main.65aa8eed.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e]);const o=window.localStorage.getItem("nop");o&&(document.documentElement.dataset.nop=o)}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><div class="page-wrapper  category-javascript document-page"><div class="main-wrapper"><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Iteration protocols</h1></header><div class="section-content"><p><strong>Iteration protocols</strong> aren't new built-ins or syntax, but <em>protocols</em>. These protocols can be implemented by any object by following some conventions.</p>
<p>There are two protocols: The <a href="#the_iterable_protocol">iterable protocol</a> and the <a href="#the_iterator_protocol">iterator protocol</a>.</p></div><section aria-labelledby="the_iterable_protocol"><h2 id="the_iterable_protocol"><a href="#the_iterable_protocol">The iterable protocol</a></h2><div class="section-content"><p><strong>The iterable protocol</strong> allows JavaScript objects to define or customize their iteration behavior, such as what values are looped over in a <a href="Statements/for..-2.html"><code>for...of</code></a> construct. Some built-in types are <a href="#built-in_iterables">built-in iterables</a> with a default iteration behavior, such as <a href="Global_Objects/Array.html"><code>Array</code></a> or <a href="Global_Objects/Map.html"><code>Map</code></a>, while other types (such as <a href="Global_Objects/Object.html"><code>Object</code></a>) are not.</p>
<p>In order to be <strong>iterable</strong>, an object must implement the <strong><code>[Symbol.iterator]()</code></strong> method, meaning that the object (or one of the objects up its <a href="../Inheritance_and_the_prototype_chain.html">prototype chain</a>) must have a property with a <code>[Symbol.iterator]</code> key which is available via constant <a href="Global_Objects/Symbol/iterator.html"><code>Symbol.iterator</code></a>:</p>
<dl>
<dt id="symbol.iterator"><a href="#symbol.iterator"><code>[Symbol.iterator]()</code></a></dt>
<dd>
<p>A zero-argument function that returns an object, conforming to the <a href="#the_iterator_protocol">iterator protocol</a>.</p>
</dd>
</dl>
<p>Whenever an object needs to be iterated (such as at the beginning of a <a href="Statements/for..-2.html"><code>for...of</code></a> loop), its <code>[Symbol.iterator]()</code> method is called with no arguments, and the returned <strong>iterator</strong> is used to obtain the values to be iterated.</p>
<p>Note that when this zero-argument function is called, it is invoked as a method on the iterable object. Therefore inside of the function, the <code>this</code> keyword can be used to access the properties of the iterable object, to decide what to provide during the iteration.</p>
<p>This function can be an ordinary function, or it can be a generator function, so that when invoked, an iterator object is returned. Inside of this generator function, each entry can be provided by using <code>yield</code>.</p></div></section><section aria-labelledby="the_iterator_protocol"><h2 id="the_iterator_protocol"><a href="#the_iterator_protocol">The iterator protocol</a></h2><div class="section-content"><p><strong>The iterator protocol</strong> defines a standard way to produce a sequence of values (either finite or infinite), and potentially a return value when all values have been generated.</p>
<p>An object is an iterator when it implements a <strong><code>next()</code></strong> method with the following semantics:</p>
<dl>
<dt id="next"><a href="#next"><code>next()</code></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface (see below). If a non-object value gets returned (such as <code>false</code> or <code>undefined</code>) when a built-in language feature (such as <code>for...of</code>) is using the iterator, a <a href="Global_Objects/TypeError.html"><code>TypeError</code></a> (<code>"iterator.next() returned a non-object value"</code>) will be thrown.</p>
</dd>
</dl>
<p>All iterator protocol methods (<code>next()</code>, <code>return()</code>, and <code>throw()</code>) are expected to return an object implementing the <code>IteratorResult</code> interface. It must have the following properties:</p>
<dl>
<dt id="done"><a href="#done"><code>done</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A boolean that's <code>false</code> if the iterator was able to produce the next value in the sequence. (This is equivalent to not specifying the <code>done</code> property altogether.)</p>
<p>Has the value <code>true</code> if the iterator has completed its sequence. In this case, <code>value</code> optionally specifies the return value of the iterator.</p>
</dd>
<dt id="value"><a href="#value"><code>value</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>Any JavaScript value returned by the iterator. Can be omitted when <code>done</code> is <code>true</code>.</p>
</dd>
</dl>
<p>In practice, neither property is strictly required; if an object without either property is returned, it's effectively equivalent to <code>{ done: false, value: undefined }</code>.</p>
<p>If an iterator returns a result with <code>done: true</code>, any subsequent calls to <code>next()</code> are expected to return <code>done: true</code> as well, although this is not enforced on the language level.</p>
<p>The <code>next</code> method can receive a value which will be made available to the method body. No built-in language feature will pass any value. The value passed to the <code>next</code> method of <a href="Global_Objects/Generator.html">generators</a> will become the value of the corresponding <code>yield</code> expression.</p>
<p>Optionally, the iterator can also implement the <strong><code>return(value)</code></strong> and <strong><code>throw(exception)</code></strong> methods, which, when called, tells the iterator that the caller is done with iterating it and can perform any necessary cleanup (such as closing database connection).</p>
<dl>
<dt id="returnvalue"><a href="#returnvalue"><code>return(value)</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface, typically with <code>value</code> equal to the <code>value</code> passed in and <code>done</code> equal to <code>true</code>. Calling this method tells the iterator that the caller does not intend to make any more <code>next()</code> calls and can perform any cleanup actions. When built-in language features call <code>return()</code> for cleanup, <code>value</code> is always <code>undefined</code>.</p>
</dd>
<dt id="throwexception"><a href="#throwexception"><code>throw(exception)</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface, typically with <code>done</code> equal to <code>true</code>. Calling this method tells the iterator that the caller detects an error condition, and <code>exception</code> is typically an <a href="Global_Objects/Error.html"><code>Error</code></a> instance. No built-in language feature calls <code>throw()</code> for cleanup purposes — it's a special feature of generators for the symmetry of <code>return</code>/<code>throw</code>.</p>
</dd>
</dl>
<div class="notecard note">
<p><strong>Note:</strong>
It is not possible to know reflectively (i.e. without actually calling <code>next()</code> and validating the returned result) whether a particular object implements the iterator protocol.</p>
</div>
<p>It is very easy to make an iterator also iterable: just implement an <code>[Symbol.iterator]()</code> method that returns <code>this</code>.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>// Satisfies both the Iterator Protocol and Iterable
const myIterator = {
  next() {
    // ...
  },
  [Symbol.iterator]() {
    return this;
  },
};
</code></pre></div>
<p>Such object is called an <em>iterable iterator</em>. Doing so allows an iterator to be consumed by the various syntaxes expecting iterables — therefore, it is seldom useful to implement the Iterator Protocol without also implementing Iterable. (In fact, almost all syntaxes and APIs expect <em>iterables</em>, not <em>iterators</em>.) The <a href="Global_Objects/Generator.html">generator object</a> is an example:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const aGeneratorObject = (function* () {
  yield 1;
  yield 2;
  yield 3;
})();

console.log(typeof aGeneratorObject.next);
// "function" — it has a next method (which returns the right result), so it's an iterator

console.log(typeof aGeneratorObject[Symbol.iterator]);
// "function" — it has an [Symbol.iterator] method (which returns the right iterator), so it's an iterable

console.log(aGeneratorObject[Symbol.iterator]() === aGeneratorObject);
// true — its [Symbol.iterator] method returns itself (an iterator), so it's an iterable iterator
</code></pre></div>
<p>All built-in iterators inherit from <a href="Global_Objects/Iterator.html"><code>Iterator.prototype</code></a>, which implements the <code>[Symbol.iterator]()</code> method as returning <code>this</code>, so that built-in iterators are also iterable.</p>
<p>However, when possible, it's better for <code>iterable[Symbol.iterator]()</code> to return different iterators that always start from the beginning, like <a href="Global_Objects/Set/Symbol.html"><code>Set.prototype[Symbol.iterator]()</code></a> does.</p></div></section><section aria-labelledby="the_async_iterator_and_async_iterable_protocols"><h2 id="the_async_iterator_and_async_iterable_protocols"><a href="#the_async_iterator_and_async_iterable_protocols">The async iterator and async iterable protocols</a></h2><div class="section-content"><p>There are another pair of protocols used for async iteration, named <strong>async iterator</strong> and <strong>async iterable</strong> protocols. They have very similar interfaces compared to the iterable and iterator protocols, except that each return value from the calls to the iterator methods is wrapped in a promise.</p>
<p>An object implements the async iterable protocol when it implements the following methods:</p>
<dl>
<dt id="symbol.asynciterator"><a href="Global_Objects/Symbol/asyncIterator.html"><code>[Symbol.asyncIterator]()</code></a></dt>
<dd>
<p>A zero-argument function that returns an object, conforming to the async iterator protocol.</p>
</dd>
</dl>
<p>An object implements the async iterator protocol when it implements the following methods:</p>
<dl>
<dt id="next_2"><a href="#next_2"><code>next()</code></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>
</dd>
<dt id="returnvalue_2"><a href="#returnvalue_2"><code>return(value)</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>
</dd>
<dt id="throwexception_2"><a href="#throwexception_2"><code>throw(exception)</code> <span class="badge inline optional">Optional</span></a></dt>
<dd>
<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>
</dd>
</dl></div></section><section aria-labelledby="interactions_between_the_language_and_iteration_protocols"><h2 id="interactions_between_the_language_and_iteration_protocols"><a href="#interactions_between_the_language_and_iteration_protocols">Interactions between the language and iteration protocols</a></h2><div class="section-content"><p>The language specifies APIs that either produce or consume iterables and iterators.</p></div></section><section aria-labelledby="built-in_iterables"><h3 id="built-in_iterables"><a href="#built-in_iterables">Built-in iterables</a></h3><div class="section-content"><p><a href="Global_Objects/String.html"><code>String</code></a>, <a href="Global_Objects/Array.html"><code>Array</code></a>, <a href="Global_Objects/TypedArray.html"><code>TypedArray</code></a>, <a href="Global_Objects/Map.html"><code>Map</code></a>, <a href="Global_Objects/Set.html"><code>Set</code></a>, and <a href="Global_Objects/Intl/Segmenter/segment/Segments.html"><code>Segments</code></a> (returned by <a href="Global_Objects/Intl/Segmenter/segment.html"><code>Intl.Segmenter.prototype.segment()</code></a>) are all built-in iterables, because each of their <code>prototype</code> objects implements an <code>[Symbol.iterator]()</code> method. In addition, the <a href="Functions/arguments.html"><code>arguments</code></a> object and some DOM collection types such as <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList"><code>NodeList</code></a> are also iterables.
There is no object in the core JavaScript language that is async iterable. Some web APIs, such as <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream"><code>ReadableStream</code></a>, have the <code>Symbol.asyncIterator</code> method set by default.</p>
<p><a href="Statements/function_.html">Generator functions</a> return <a href="Global_Objects/Generator.html">generator objects</a>, which are iterable iterators. <a href="Statements/async_function_.html">Async generator functions</a> return <a href="Global_Objects/AsyncGenerator.html">async generator objects</a>, which are async iterable iterators.</p>
<p>The iterators returned from built-in iterables actually all inherit from a common class <a href="Global_Objects/Iterator.html"><code>Iterator</code></a>, which implements the aforementioned <code>[Symbol.iterator]() { return this; }</code> method, making them all iterable iterators. The <code>Iterator</code> class also provides additional <a href="Global_Objects/Iterator.html#iterator_helper_methods">helper methods</a> in addition to the <code>next()</code> method required by the iterator protocol. You can inspect an iterator's prototype chain by logging it in a graphical console.</p>
<pre class="brush: plain notranslate">console.log([][Symbol.iterator]());

Array Iterator {}
  [[Prototype]]: Array Iterator     ==&gt; This is the prototype shared by all array iterators
    next: ƒ next()
    Symbol(Symbol.toStringTag): "Array Iterator"
    [[Prototype]]: Object           ==&gt; This is the prototype shared by all built-in iterators
      Symbol(Symbol.iterator): ƒ [Symbol.iterator]()
      [[Prototype]]: Object         ==&gt; This is Object.prototype
</pre></div></section><section aria-labelledby="built-in_apis_accepting_iterables"><h3 id="built-in_apis_accepting_iterables"><a href="#built-in_apis_accepting_iterables">Built-in APIs accepting iterables</a></h3><div class="section-content"><p>There are many APIs that accept iterables. Some examples include:</p>
<ul>
<li><a href="Global_Objects/Map/Map.html"><code>Map()</code></a></li>
<li><a href="Global_Objects/WeakMap/WeakMap.html"><code>WeakMap()</code></a></li>
<li><a href="Global_Objects/Set/Set.html"><code>Set()</code></a></li>
<li><a href="Global_Objects/WeakSet/WeakSet.html"><code>WeakSet()</code></a></li>
<li><a href="Global_Objects/Promise/all.html"><code>Promise.all()</code></a></li>
<li><a href="Global_Objects/Promise/allSettled.html"><code>Promise.allSettled()</code></a></li>
<li><a href="Global_Objects/Promise/race.html"><code>Promise.race()</code></a></li>
<li><a href="Global_Objects/Promise/any.html"><code>Promise.any()</code></a></li>
<li><a href="Global_Objects/Array/from.html"><code>Array.from()</code></a></li>
<li><a href="Global_Objects/Object/groupBy.html"><code>Object.groupBy()</code></a></li>
<li><a href="Global_Objects/Map/groupBy.html"><code>Map.groupBy()</code></a></li>
</ul>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const myObj = {};

new WeakSet(
  (function* () {
    yield {};
    yield myObj;
    yield {};
  })(),
).has(myObj); // true
</code></pre></div></div></section><section aria-labelledby="syntaxes_expecting_iterables"><h3 id="syntaxes_expecting_iterables"><a href="#syntaxes_expecting_iterables">Syntaxes expecting iterables</a></h3><div class="section-content"><p>Some statements and expressions expect iterables, for example the <a href="Statements/for..-2.html"><code>for...of</code></a> loops, <a href="Operators/Spread_syntax.html">array and parameter spreading</a>, <a href="Operators/yield_.html"><code>yield*</code></a>, and <a href="Operators/Destructuring_assignment.html">array destructuring</a>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>for (const value of ["a", "b", "c"]) {
  console.log(value);
}
// "a"
// "b"
// "c"

console.log([..."abc"]); // ["a", "b", "c"]

function* gen() {
  yield* ["a", "b", "c"];
}

console.log(gen().next()); // { value: "a", done: false }

[a, b, c] = new Set(["a", "b", "c"]);
console.log(a); // "a"
</code></pre></div>
<p>When built-in syntaxes are iterating an iterator, and the last result's <code>done</code> is <code>false</code> (i.e. the iterator is able to produce more values) but no more values are needed, the <code>return</code> method will get called if present. This can happen, for example, if a <code>break</code> or <code>return</code> is encountered in a <code>for...of</code> loop, or if all identifiers are already bound in an array destructuring.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const obj = {
  [Symbol.iterator]() {
    let i = 0;
    return {
      next() {
        i++;
        console.log("Returning", i);
        if (i === 3) return { done: true, value: i };
        return { done: false, value: i };
      },
      return() {
        console.log("Closing");
        return { done: true };
      },
    };
  },
};

const [a] = obj;
// Returning 1
// Closing

const [b, c, d] = obj;
// Returning 1
// Returning 2
// Returning 3
// Already reached the end (the last call returned `done: true`),
// so `return` is not called
console.log([b, c, d]); // [1, 2, undefined]; the value associated with `done: true` is not reachable

for (const b of obj) {
  break;
}
// Returning 1
// Closing
</code></pre></div>
<p>The <a href="Statements/for-await...html"><code>for await...of</code></a> loop and <a href="Operators/yield_.html"><code>yield*</code></a> in <a href="Statements/async_function_.html">async generator functions</a> (but not <a href="Statements/function_.html">sync generator functions</a>) are the only ways to interact with async iterables. Using <code>for...of</code>, array spreading, etc. on an async iterable that's not also a sync iterable (i.e. it has <code>[Symbol.asyncIterator]()</code> but no <code>[Symbol.iterator]()</code>) will throw a TypeError: x is not iterable.</p></div></section><section aria-labelledby="error_handling"><h2 id="error_handling"><a href="#error_handling">Error handling</a></h2><div class="section-content"><p>Because iteration involves transferring control back and forth between the iterator and the consumer, error handling happens in both ways: how the consumer handles errors thrown by the iterator, and how the iterator handles errors thrown by the consumer. When you are using one of the built-in ways of iteration, the language may also throw errors because the iterable breaks certain invariants. We will describe how built-in syntaxes generate and handle errors, which can be used as a guideline for your own code if you are manually stepping the iterator.</p></div></section><section aria-labelledby="non-well-formed_iterables"><h3 id="non-well-formed_iterables"><a href="#non-well-formed_iterables">Non-well-formed iterables</a></h3><div class="section-content"><p>Errors may happen when acquiring the iterator from the iterable. The language invariant enforced here is that the iterable must produce a valid iterator:</p>
<ul>
<li>It has a callable <code>[Symbol.iterator]()</code> method.</li>
<li>The <code>[Symbol.iterator]()</code> method returns an object.</li>
<li>The object returned by <code>[Symbol.iterator]()</code> has a callable <code>next()</code> method.</li>
</ul>
<p>When using built-in syntax to initiate iteration on a non-well-formed iterable, a TypeError is thrown.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js example-bad notranslate"><code>const nonWellFormedIterable = { [Symbol.iterator]: 1 };
[...nonWellFormedIterable]; // TypeError: nonWellFormedIterable is not iterable
nonWellFormedIterable[Symbol.iterator] = () =&gt; 1;
[...nonWellFormedIterable]; // TypeError: [Symbol.iterator]() returned a non-object value
nonWellFormedIterable[Symbol.iterator] = () =&gt; ({});
[...nonWellFormedIterable]; // TypeError: nonWellFormedIterable[Symbol.iterator]().next is not a function
</code></pre></div>
<p>For async iterables, if its <code>[Symbol.asyncIterator]()</code> property has value <code>undefined</code> or <code>null</code>, JavaScript falls back to using the <code>[Symbol.iterator]</code> property instead (and wraps the resulting iterator into an async iterator by <a href="#forwarding_errors">forwarding</a> the methods). Otherwise, the <code>[Symbol.asyncIterator]</code> property must conform to the above invariants too.</p>
<p>This type of errors can be prevented by first validating the iterable before attempting to iterate it. However, it's fairly rare because usually you know the type of the object you are iterating over. If you are receiving this iterable from some other code, you should just let the error propagate to the caller so they know an invalid input was provided.</p></div></section><section aria-labelledby="errors_during_iteration"><h3 id="errors_during_iteration"><a href="#errors_during_iteration">Errors during iteration</a></h3><div class="section-content"><p>Most errors happen when stepping the iterator (calling <code>next()</code>). The language invariant enforced here is that the <code>next()</code> method must return an object (for async iterators, an object after awaiting). Otherwise, a TypeError is thrown.</p>
<p>If the invariant is broken or the <code>next()</code> method throws an error (for async iterators, it may also return a rejected promise), the error is propagated to the caller. For built-in syntaxes, the iteration in progress is aborted without retrying or cleanup (with the assumption that if the <code>next()</code> method threw the error, then it has cleaned up already). If you are manually calling <code>next()</code>, you may catch the error and retry calling <code>next()</code>, but in general you should assume the iterator is already closed.</p>
<p>If the caller decides to exit iteration for any reason other than the errors in the previous paragraph, such as when it enters an error state in its own code (for example, while handling an invalid value produced by the iterator), it should call the <code>return()</code> method on the iterator, if one exists. This allows the iterator to perform any cleanup. The <code>return()</code> method is only called for premature exits—if <code>next()</code> returns <code>done: true</code>, the <code>return()</code> method is not called, with the assumption that the iterator has already cleaned up.</p>
<p>The <code>return()</code> method might be invalid too! The language also enforces that the <code>return()</code> method must return an object and throws a TypeError otherwise. If the <code>return()</code> method throws an error, the error is propagated to the caller. However, if the <code>return()</code> method is called because the caller encountered an error in its own code, then this error overrides the error thrown by the <code>return()</code> method.</p>
<p>Usually, the caller implements error handling like this:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>try {
  for (const value of iterable) {
    // ...
  }
} catch (e) {
  // Handle the error
}
</code></pre></div>
<p>The <code>catch</code> will be able to catch errors thrown when <code>iterable</code> is not a valid iterable, when <code>next()</code> throws an error, when <code>return()</code> throws an error (if the <code>for</code> loop exits early), and when the <code>for</code> loop body throws an error.</p>
<p>Most iterators are implemented with generator functions, so we will demonstrate how generator functions typically handle errors:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function* gen() {
  try {
    yield doSomething();
    yield doSomethingElse();
  } finally {
    cleanup();
  }
}
</code></pre></div>
<p>The lack of <code>catch</code> here causes errors thrown by <code>doSomething()</code> or <code>doSomethingElse()</code> to propagate to the caller of <code>gen</code>. If these errors are caught within the generator function (which is equally advisable), the generator function can decide to continue yielding values or to exit early. However, the <code>finally</code> block is necessary for generators that keep open resources. The <code>finally</code> block is guaranteed to run, either when the last <code>next()</code> is called or when <code>return()</code> is called.</p></div></section><section aria-labelledby="forwarding_errors"><h3 id="forwarding_errors"><a href="#forwarding_errors">Forwarding errors</a></h3><div class="section-content"><p>Some built-in syntaxes wrap an iterator into another iterator. They include the iterator produced by <a href="Global_Objects/Iterator/from.html"><code>Iterator.from()</code></a>, <a href="Global_Objects/Iterator.html#iterator_helper_methods">iterator helper methods</a> (<code>map()</code>, <code>filter()</code>, <code>take()</code>, <code>drop()</code>, and <code>flatMap()</code>), <a href="Operators/yield_.html"><code>yield*</code></a>, and a hidden wrapper when you use async iteration (<code>for await...of</code>, <code>Array.fromAsync</code>) on sync iterators. The wrapped iterator is then responsible for forwarding errors between the inner iterator and the caller.</p>
<ul>
<li>All wrapper iterators directly forward the <code>next()</code> method of the inner iterator, including its return value and thrown errors.</li>
<li>Wrapper iterators generally directly forward the <code>return()</code> method of the inner iterator. If the <code>return()</code> method doesn't exist on the inner iterator, it returns <code>{ done: true, value: undefined }</code> instead. In the case of iterator helpers: if the iterator helper's <code>next()</code> method has not been called, after trying to call <code>return()</code> on the inner iterator, the current iterator always returns <code>{ done: true, value: undefined }</code>. This is consistent with generator functions where execution hasn't entered the <code>yield*</code> expression yet.</li>
<li><code>yield*</code> is the only built-in syntax that forwards the <code>throw()</code> method of the inner iterator. For information on how <a href="Operators/yield_.html"><code>yield*</code></a> forwards the <code>return()</code> and <code>throw()</code> methods, see its own reference.</li>
</ul></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"></div></section><section aria-labelledby="user-defined_iterables"><h3 id="user-defined_iterables"><a href="#user-defined_iterables">User-defined iterables</a></h3><div class="section-content"><p>You can make your own iterables like this:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const myIterable = {
  *[Symbol.iterator]() {
    yield 1;
    yield 2;
    yield 3;
  },
};

console.log([...myIterable]); // [1, 2, 3]
</code></pre></div></div></section><section aria-labelledby="basic_iterator"><h3 id="basic_iterator"><a href="#basic_iterator">Basic iterator</a></h3><div class="section-content"><p>Iterators are stateful by nature. If you don't define it as a <a href="Statements/function_.html">generator function</a> (as the example above shows), you would likely want to encapsulate the state in a closure.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function makeIterator(array) {
  let nextIndex = 0;
  return {
    next() {
      return nextIndex &lt; array.length
        ? {
            value: array[nextIndex++],
            done: false,
          }
        : {
            done: true,
          };
    },
  };
}

const it = makeIterator(["yo", "ya"]);

console.log(it.next().value); // 'yo'
console.log(it.next().value); // 'ya'
console.log(it.next().done); // true
</code></pre></div></div></section><section aria-labelledby="infinite_iterator"><h3 id="infinite_iterator"><a href="#infinite_iterator">Infinite iterator</a></h3><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function idMaker() {
  let index = 0;
  return {
    next() {
      return {
        value: index++,
        done: false,
      };
    },
  };
}

const it = idMaker();

console.log(it.next().value); // 0
console.log(it.next().value); // 1
console.log(it.next().value); // 2
// ...
</code></pre></div></div></section><section aria-labelledby="defining_an_iterable_with_a_generator"><h3 id="defining_an_iterable_with_a_generator"><a href="#defining_an_iterable_with_a_generator">Defining an iterable with a generator</a></h3><div class="section-content"><div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>function* makeGenerator(array) {
  let nextIndex = 0;
  while (nextIndex &lt; array.length) {
    yield array[nextIndex++];
  }
}

const gen = makeGenerator(["yo", "ya"]);

console.log(gen.next().value); // 'yo'
console.log(gen.next().value); // 'ya'
console.log(gen.next().done); // true

function* idMaker() {
  let index = 0;
  while (true) {
    yield index++;
  }
}

const it = idMaker();

console.log(it.next().value); // 0
console.log(it.next().value); // 1
console.log(it.next().value); // 2
// ...
</code></pre></div></div></section><section aria-labelledby="defining_an_iterable_with_a_class"><h3 id="defining_an_iterable_with_a_class"><a href="#defining_an_iterable_with_a_class">Defining an iterable with a class</a></h3><div class="section-content"><p>State encapsulation can be done with <a href="Classes/Private_properties.html">private properties</a> as well.</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>class SimpleClass {
  #data;

  constructor(data) {
    this.#data = data;
  }

  [Symbol.iterator]() {
    // Use a new index for each iterator. This makes multiple
    // iterations over the iterable safe for non-trivial cases,
    // such as use of break or nested looping over the same iterable.
    let index = 0;

    return {
      // Note: using an arrow function allows `this` to point to the
      // one of `[Symbol.iterator]()` instead of `next()`
      next: () =&gt; {
        if (index &lt; this.#data.length) {
          return { value: this.#data[index++], done: false };
        } else {
          return { done: true };
        }
      },
    };
  }
}

const simple = new SimpleClass([1, 2, 3, 4, 5]);

for (const val of simple) {
  console.log(val); // 1 2 3 4 5
}
</code></pre></div></div></section><section aria-labelledby="overriding_built-in_iterables"><h3 id="overriding_built-in_iterables"><a href="#overriding_built-in_iterables">Overriding built-in iterables</a></h3><div class="section-content"><p>For example, a <a href="Global_Objects/String.html"><code>String</code></a> is a built-in iterable object:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const someString = "hi";
console.log(typeof someString[Symbol.iterator]); // "function"
</code></pre></div>
<p><code>String</code>'s <a href="Global_Objects/String/Symbol.html">default iterator</a> returns the string's code points one by one:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const iterator = someString[Symbol.iterator]();
console.log(`${iterator}`); // "[object String Iterator]"

console.log(iterator.next()); // { value: "h", done: false }
console.log(iterator.next()); // { value: "i", done: false }
console.log(iterator.next()); // { value: undefined, done: true }
</code></pre></div>
<p>You can redefine the iteration behavior by supplying our own <code>[Symbol.iterator]()</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>// need to construct a String object explicitly to avoid auto-boxing
const someString = new String("hi");

someString[Symbol.iterator] = function () {
  return {
    // this is the iterator object, returning a single element (the string "bye")
    next() {
      return this._first
        ? { value: "bye", done: (this._first = false) }
        : { done: true };
    },
    _first: true,
  };
};
</code></pre></div>
<p>Notice how redefining <code>[Symbol.iterator]()</code> affects the behavior of built-in constructs that use the iteration protocol:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>console.log([...someString]); // ["bye"]
console.log(`${someString}`); // "hi"
</code></pre></div></div></section><section aria-labelledby="concurrent_modifications_when_iterating"><h3 id="concurrent_modifications_when_iterating"><a href="#concurrent_modifications_when_iterating">Concurrent modifications when iterating</a></h3><div class="section-content"><p>Almost all iterables have the same underlying semantic: they don't copy the data at the time when iteration starts. Rather, they keep a pointer and move it around. Therefore, if you add, delete, or modify elements in the collection while iterating over the collection, you may inadvertently change whether other <em>unchanged</em> elements in the collection are visited. This is very similar to how <a href="Global_Objects/Array.html#mutating_initial_array_in_iterative_methods">iterative array methods</a> work.</p>
<p>Consider the following case using a <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const searchParams = new URLSearchParams(
  "deleteme1=value1&amp;key2=value2&amp;key3=value3",
);

// Delete unwanted keys
for (const [key, value] of searchParams) {
  console.log(key);
  if (key.startsWith("deleteme")) {
    searchParams.delete(key);
  }
}

// Output:
// deleteme1
// key3
</code></pre></div>
<p>Note how it never logs <code>key2</code>. This is because a <code>URLSearchParams</code> is underlyingly a list of key-value pairs. When <code>deleteme1</code> is visited and deleted, all other entries are shifted to the left by one, so <code>key2</code> occupies the position that <code>deleteme1</code> used to be in, and when the pointer moves to the next key, it lands on <code>key3</code>.</p>
<p>Certain iterable implementations avoid this problem by setting "tombstone" values to avoid shifting the remaining values. Consider the similar code using a <code>Map</code>:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const myMap = new Map([
  ["deleteme1", "value1"],
  ["key2", "value2"],
  ["key3", "value3"],
]);

for (const [key, value] of myMap) {
  console.log(key);
  if (key.startsWith("deleteme")) {
    myMap.delete(key);
  }
}

// Output:
// deleteme1
// key2
// key3
</code></pre></div>
<p>Note how it logs all keys. This is because <code>Map</code> doesn't shift the remaining keys when one is deleted. If you want to implement something similar, here's how it may look:</p>
<div class="code-example"><div class="example-header"><span class="language-name">js</span></div><pre class="brush: js notranslate"><code>const tombstone = Symbol("tombstone");

class MyIterable {
  #data;
  constructor(data) {
    this.#data = data;
  }
  delete(deletedKey) {
    for (let i = 0; i &lt; this.#data.length; i++) {
      if (this.#data[i][0] === deletedKey) {
        this.#data[i] = tombstone;
        return true;
      }
    }
    return false;
  }
  *[Symbol.iterator]() {
    for (let i = 0; i &lt; this.#data.length; i++) {
      if (this.#data[i] !== tombstone) {
        yield this.#data[i];
      }
    }
  }
}

const myIterable = new MyIterable([
  ["deleteme1", "value1"],
  ["key2", "value2"],
  ["key3", "value3"],
]);
for (const [key, value] of myIterable) {
  console.log(key);
  if (key.startsWith("deleteme")) {
    myIterable.delete(key);
  }
}
</code></pre></div>
<div class="notecard warning">
<p><strong>Warning:</strong>
Concurrent modifications, in general, are very bug-prone and confusing. Unless you know precisely how the iterable is implemented, it's best to avoid modifying the collection while iterating over it.</p>
</div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-iteration">ECMAScript Language Specification<!-- --> <br><small># <!-- -->sec-iteration</small></a></td></tr></tbody></table><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
<li><a href="../Guide/Iterators_and_generators.html">Iterators and generators</a> guide</li>
<li><a href="Statements/function_.html"><code>function*</code></a></li>
<li><a href="Global_Objects/Symbol/iterator.html"><code>Symbol.iterator</code></a></li>
<li><a href="Global_Objects/Iterator.html"><code>Iterator</code></a></li>
</ul></div></section></article></main></div></div></div><script type="application/json" id="hydration">{"url":"/en-US/docs/Web/JavaScript/Reference/Iteration_protocols","doc":{"body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong>Iteration protocols</strong> aren't new built-ins or syntax, but <em>protocols</em>. These protocols can be implemented by any object by following some conventions.</p>\n<p>There are two protocols: The <a href=\"#the_iterable_protocol\">iterable protocol</a> and the <a href=\"#the_iterator_protocol\">iterator protocol</a>.</p>"}},{"type":"prose","value":{"id":"the_iterable_protocol","title":"The iterable protocol","isH3":false,"content":"<p><strong>The iterable protocol</strong> allows JavaScript objects to define or customize their iteration behavior, such as what values are looped over in a <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...of\"><code>for...of</code></a> construct. Some built-in types are <a href=\"#built-in_iterables\">built-in iterables</a> with a default iteration behavior, such as <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a> or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\"><code>Map</code></a>, while other types (such as <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\"><code>Object</code></a>) are not.</p>\n<p>In order to be <strong>iterable</strong>, an object must implement the <strong><code>[Symbol.iterator]()</code></strong> method, meaning that the object (or one of the objects up its <a href=\"/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\">prototype chain</a>) must have a property with a <code>[Symbol.iterator]</code> key which is available via constant <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator\"><code>Symbol.iterator</code></a>:</p>\n<dl>\n<dt id=\"symbol.iterator\"><a href=\"#symbol.iterator\"><code>[Symbol.iterator]()</code></a></dt>\n<dd>\n<p>A zero-argument function that returns an object, conforming to the <a href=\"#the_iterator_protocol\">iterator protocol</a>.</p>\n</dd>\n</dl>\n<p>Whenever an object needs to be iterated (such as at the beginning of a <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...of\"><code>for...of</code></a> loop), its <code>[Symbol.iterator]()</code> method is called with no arguments, and the returned <strong>iterator</strong> is used to obtain the values to be iterated.</p>\n<p>Note that when this zero-argument function is called, it is invoked as a method on the iterable object. Therefore inside of the function, the <code>this</code> keyword can be used to access the properties of the iterable object, to decide what to provide during the iteration.</p>\n<p>This function can be an ordinary function, or it can be a generator function, so that when invoked, an iterator object is returned. Inside of this generator function, each entry can be provided by using <code>yield</code>.</p>"}},{"type":"prose","value":{"id":"the_iterator_protocol","title":"The iterator protocol","isH3":false,"content":"<p><strong>The iterator protocol</strong> defines a standard way to produce a sequence of values (either finite or infinite), and potentially a return value when all values have been generated.</p>\n<p>An object is an iterator when it implements a <strong><code>next()</code></strong> method with the following semantics:</p>\n<dl>\n<dt id=\"next\"><a href=\"#next\"><code>next()</code></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface (see below). If a non-object value gets returned (such as <code>false</code> or <code>undefined</code>) when a built-in language feature (such as <code>for...of</code>) is using the iterator, a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a> (<code>\"iterator.next() returned a non-object value\"</code>) will be thrown.</p>\n</dd>\n</dl>\n<p>All iterator protocol methods (<code>next()</code>, <code>return()</code>, and <code>throw()</code>) are expected to return an object implementing the <code>IteratorResult</code> interface. It must have the following properties:</p>\n<dl>\n<dt id=\"done\"><a href=\"#done\"><code>done</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A boolean that's <code>false</code> if the iterator was able to produce the next value in the sequence. (This is equivalent to not specifying the <code>done</code> property altogether.)</p>\n<p>Has the value <code>true</code> if the iterator has completed its sequence. In this case, <code>value</code> optionally specifies the return value of the iterator.</p>\n</dd>\n<dt id=\"value\"><a href=\"#value\"><code>value</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>Any JavaScript value returned by the iterator. Can be omitted when <code>done</code> is <code>true</code>.</p>\n</dd>\n</dl>\n<p>In practice, neither property is strictly required; if an object without either property is returned, it's effectively equivalent to <code>{ done: false, value: undefined }</code>.</p>\n<p>If an iterator returns a result with <code>done: true</code>, any subsequent calls to <code>next()</code> are expected to return <code>done: true</code> as well, although this is not enforced on the language level.</p>\n<p>The <code>next</code> method can receive a value which will be made available to the method body. No built-in language feature will pass any value. The value passed to the <code>next</code> method of <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">generators</a> will become the value of the corresponding <code>yield</code> expression.</p>\n<p>Optionally, the iterator can also implement the <strong><code>return(value)</code></strong> and <strong><code>throw(exception)</code></strong> methods, which, when called, tells the iterator that the caller is done with iterating it and can perform any necessary cleanup (such as closing database connection).</p>\n<dl>\n<dt id=\"returnvalue\"><a href=\"#returnvalue\"><code>return(value)</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface, typically with <code>value</code> equal to the <code>value</code> passed in and <code>done</code> equal to <code>true</code>. Calling this method tells the iterator that the caller does not intend to make any more <code>next()</code> calls and can perform any cleanup actions. When built-in language features call <code>return()</code> for cleanup, <code>value</code> is always <code>undefined</code>.</p>\n</dd>\n<dt id=\"throwexception\"><a href=\"#throwexception\"><code>throw(exception)</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns an object conforming to the <code>IteratorResult</code> interface, typically with <code>done</code> equal to <code>true</code>. Calling this method tells the iterator that the caller detects an error condition, and <code>exception</code> is typically an <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\"><code>Error</code></a> instance. No built-in language feature calls <code>throw()</code> for cleanup purposes — it's a special feature of generators for the symmetry of <code>return</code>/<code>throw</code>.</p>\n</dd>\n</dl>\n<div class=\"notecard note\">\n<p><strong>Note:</strong>\nIt is not possible to know reflectively (i.e. without actually calling <code>next()</code> and validating the returned result) whether a particular object implements the iterator protocol.</p>\n</div>\n<p>It is very easy to make an iterator also iterable: just implement an <code>[Symbol.iterator]()</code> method that returns <code>this</code>.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>// Satisfies both the Iterator Protocol and Iterable\nconst myIterator = {\n  next() {\n    // ...\n  },\n  [Symbol.iterator]() {\n    return this;\n  },\n};\n</code></pre></div>\n<p>Such object is called an <em>iterable iterator</em>. Doing so allows an iterator to be consumed by the various syntaxes expecting iterables — therefore, it is seldom useful to implement the Iterator Protocol without also implementing Iterable. (In fact, almost all syntaxes and APIs expect <em>iterables</em>, not <em>iterators</em>.) The <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">generator object</a> is an example:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const aGeneratorObject = (function* () {\n  yield 1;\n  yield 2;\n  yield 3;\n})();\n\nconsole.log(typeof aGeneratorObject.next);\n// \"function\" — it has a next method (which returns the right result), so it's an iterator\n\nconsole.log(typeof aGeneratorObject[Symbol.iterator]);\n// \"function\" — it has an [Symbol.iterator] method (which returns the right iterator), so it's an iterable\n\nconsole.log(aGeneratorObject[Symbol.iterator]() === aGeneratorObject);\n// true — its [Symbol.iterator] method returns itself (an iterator), so it's an iterable iterator\n</code></pre></div>\n<p>All built-in iterators inherit from <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator\"><code>Iterator.prototype</code></a>, which implements the <code>[Symbol.iterator]()</code> method as returning <code>this</code>, so that built-in iterators are also iterable.</p>\n<p>However, when possible, it's better for <code>iterable[Symbol.iterator]()</code> to return different iterators that always start from the beginning, like <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Symbol.iterator\"><code>Set.prototype[Symbol.iterator]()</code></a> does.</p>"}},{"type":"prose","value":{"id":"the_async_iterator_and_async_iterable_protocols","title":"The async iterator and async iterable protocols","isH3":false,"content":"<p>There are another pair of protocols used for async iteration, named <strong>async iterator</strong> and <strong>async iterable</strong> protocols. They have very similar interfaces compared to the iterable and iterator protocols, except that each return value from the calls to the iterator methods is wrapped in a promise.</p>\n<p>An object implements the async iterable protocol when it implements the following methods:</p>\n<dl>\n<dt id=\"symbol.asynciterator\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator\"><code>[Symbol.asyncIterator]()</code></a></dt>\n<dd>\n<p>A zero-argument function that returns an object, conforming to the async iterator protocol.</p>\n</dd>\n</dl>\n<p>An object implements the async iterator protocol when it implements the following methods:</p>\n<dl>\n<dt id=\"next_2\"><a href=\"#next_2\"><code>next()</code></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>\n</dd>\n<dt id=\"returnvalue_2\"><a href=\"#returnvalue_2\"><code>return(value)</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>\n</dd>\n<dt id=\"throwexception_2\"><a href=\"#throwexception_2\"><code>throw(exception)</code> <span class=\"badge inline optional\">Optional</span></a></dt>\n<dd>\n<p>A function that accepts zero or one argument and returns a promise. The promise fulfills to an object conforming to the <code>IteratorResult</code> interface, and the properties have the same semantics as those of the sync iterator's.</p>\n</dd>\n</dl>"}},{"type":"prose","value":{"id":"interactions_between_the_language_and_iteration_protocols","title":"Interactions between the language and iteration protocols","isH3":false,"content":"<p>The language specifies APIs that either produce or consume iterables and iterators.</p>"}},{"type":"prose","value":{"id":"built-in_iterables","title":"Built-in iterables","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>String</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\"><code>TypedArray</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\"><code>Map</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\"><code>Set</code></a>, and <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter/segment/Segments\"><code>Segments</code></a> (returned by <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter/segment\"><code>Intl.Segmenter.prototype.segment()</code></a>) are all built-in iterables, because each of their <code>prototype</code> objects implements an <code>[Symbol.iterator]()</code> method. In addition, the <a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/arguments\"><code>arguments</code></a> object and some DOM collection types such as <a href=\"/en-US/docs/Web/API/NodeList\"><code>NodeList</code></a> are also iterables.\nThere is no object in the core JavaScript language that is async iterable. Some web APIs, such as <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a>, have the <code>Symbol.asyncIterator</code> method set by default.</p>\n<p><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\">Generator functions</a> return <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">generator objects</a>, which are iterable iterators. <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function*\">Async generator functions</a> return <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator\">async generator objects</a>, which are async iterable iterators.</p>\n<p>The iterators returned from built-in iterables actually all inherit from a common class <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator\"><code>Iterator</code></a>, which implements the aforementioned <code>[Symbol.iterator]() { return this; }</code> method, making them all iterable iterators. The <code>Iterator</code> class also provides additional <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator#iterator_helper_methods\">helper methods</a> in addition to the <code>next()</code> method required by the iterator protocol. You can inspect an iterator's prototype chain by logging it in a graphical console.</p>\n<pre class=\"brush: plain notranslate\">console.log([][Symbol.iterator]());\n\nArray Iterator {}\n  [[Prototype]]: Array Iterator     ==&gt; This is the prototype shared by all array iterators\n    next: ƒ next()\n    Symbol(Symbol.toStringTag): \"Array Iterator\"\n    [[Prototype]]: Object           ==&gt; This is the prototype shared by all built-in iterators\n      Symbol(Symbol.iterator): ƒ [Symbol.iterator]()\n      [[Prototype]]: Object         ==&gt; This is Object.prototype\n</pre>"}},{"type":"prose","value":{"id":"built-in_apis_accepting_iterables","title":"Built-in APIs accepting iterables","isH3":true,"content":"<p>There are many APIs that accept iterables. Some examples include:</p>\n<ul>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/Map\"><code>Map()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap/WeakMap\"><code>WeakMap()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/Set\"><code>Set()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/WeakSet\"><code>WeakSet()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\"><code>Promise.all()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled\"><code>Promise.allSettled()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\"><code>Promise.race()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any\"><code>Promise.any()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\"><code>Array.from()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy\"><code>Object.groupBy()</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/groupBy\"><code>Map.groupBy()</code></a></li>\n</ul>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const myObj = {};\n\nnew WeakSet(\n  (function* () {\n    yield {};\n    yield myObj;\n    yield {};\n  })(),\n).has(myObj); // true\n</code></pre></div>"}},{"type":"prose","value":{"id":"syntaxes_expecting_iterables","title":"Syntaxes expecting iterables","isH3":true,"content":"<p>Some statements and expressions expect iterables, for example the <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...of\"><code>for...of</code></a> loops, <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">array and parameter spreading</a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\"><code>yield*</code></a>, and <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">array destructuring</a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>for (const value of [\"a\", \"b\", \"c\"]) {\n  console.log(value);\n}\n// \"a\"\n// \"b\"\n// \"c\"\n\nconsole.log([...\"abc\"]); // [\"a\", \"b\", \"c\"]\n\nfunction* gen() {\n  yield* [\"a\", \"b\", \"c\"];\n}\n\nconsole.log(gen().next()); // { value: \"a\", done: false }\n\n[a, b, c] = new Set([\"a\", \"b\", \"c\"]);\nconsole.log(a); // \"a\"\n</code></pre></div>\n<p>When built-in syntaxes are iterating an iterator, and the last result's <code>done</code> is <code>false</code> (i.e. the iterator is able to produce more values) but no more values are needed, the <code>return</code> method will get called if present. This can happen, for example, if a <code>break</code> or <code>return</code> is encountered in a <code>for...of</code> loop, or if all identifiers are already bound in an array destructuring.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const obj = {\n  [Symbol.iterator]() {\n    let i = 0;\n    return {\n      next() {\n        i++;\n        console.log(\"Returning\", i);\n        if (i === 3) return { done: true, value: i };\n        return { done: false, value: i };\n      },\n      return() {\n        console.log(\"Closing\");\n        return { done: true };\n      },\n    };\n  },\n};\n\nconst [a] = obj;\n// Returning 1\n// Closing\n\nconst [b, c, d] = obj;\n// Returning 1\n// Returning 2\n// Returning 3\n// Already reached the end (the last call returned `done: true`),\n// so `return` is not called\nconsole.log([b, c, d]); // [1, 2, undefined]; the value associated with `done: true` is not reachable\n\nfor (const b of obj) {\n  break;\n}\n// Returning 1\n// Closing\n</code></pre></div>\n<p>The <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\"><code>for await...of</code></a> loop and <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\"><code>yield*</code></a> in <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function*\">async generator functions</a> (but not <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\">sync generator functions</a>) are the only ways to interact with async iterables. Using <code>for...of</code>, array spreading, etc. on an async iterable that's not also a sync iterable (i.e. it has <code>[Symbol.asyncIterator]()</code> but no <code>[Symbol.iterator]()</code>) will throw a TypeError: x is not iterable.</p>"}},{"type":"prose","value":{"id":"error_handling","title":"Error handling","isH3":false,"content":"<p>Because iteration involves transferring control back and forth between the iterator and the consumer, error handling happens in both ways: how the consumer handles errors thrown by the iterator, and how the iterator handles errors thrown by the consumer. When you are using one of the built-in ways of iteration, the language may also throw errors because the iterable breaks certain invariants. We will describe how built-in syntaxes generate and handle errors, which can be used as a guideline for your own code if you are manually stepping the iterator.</p>"}},{"type":"prose","value":{"id":"non-well-formed_iterables","title":"Non-well-formed iterables","isH3":true,"content":"<p>Errors may happen when acquiring the iterator from the iterable. The language invariant enforced here is that the iterable must produce a valid iterator:</p>\n<ul>\n<li>It has a callable <code>[Symbol.iterator]()</code> method.</li>\n<li>The <code>[Symbol.iterator]()</code> method returns an object.</li>\n<li>The object returned by <code>[Symbol.iterator]()</code> has a callable <code>next()</code> method.</li>\n</ul>\n<p>When using built-in syntax to initiate iteration on a non-well-formed iterable, a TypeError is thrown.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js example-bad notranslate\"><code>const nonWellFormedIterable = { [Symbol.iterator]: 1 };\n[...nonWellFormedIterable]; // TypeError: nonWellFormedIterable is not iterable\nnonWellFormedIterable[Symbol.iterator] = () =&gt; 1;\n[...nonWellFormedIterable]; // TypeError: [Symbol.iterator]() returned a non-object value\nnonWellFormedIterable[Symbol.iterator] = () =&gt; ({});\n[...nonWellFormedIterable]; // TypeError: nonWellFormedIterable[Symbol.iterator]().next is not a function\n</code></pre></div>\n<p>For async iterables, if its <code>[Symbol.asyncIterator]()</code> property has value <code>undefined</code> or <code>null</code>, JavaScript falls back to using the <code>[Symbol.iterator]</code> property instead (and wraps the resulting iterator into an async iterator by <a href=\"#forwarding_errors\">forwarding</a> the methods). Otherwise, the <code>[Symbol.asyncIterator]</code> property must conform to the above invariants too.</p>\n<p>This type of errors can be prevented by first validating the iterable before attempting to iterate it. However, it's fairly rare because usually you know the type of the object you are iterating over. If you are receiving this iterable from some other code, you should just let the error propagate to the caller so they know an invalid input was provided.</p>"}},{"type":"prose","value":{"id":"errors_during_iteration","title":"Errors during iteration","isH3":true,"content":"<p>Most errors happen when stepping the iterator (calling <code>next()</code>). The language invariant enforced here is that the <code>next()</code> method must return an object (for async iterators, an object after awaiting). Otherwise, a TypeError is thrown.</p>\n<p>If the invariant is broken or the <code>next()</code> method throws an error (for async iterators, it may also return a rejected promise), the error is propagated to the caller. For built-in syntaxes, the iteration in progress is aborted without retrying or cleanup (with the assumption that if the <code>next()</code> method threw the error, then it has cleaned up already). If you are manually calling <code>next()</code>, you may catch the error and retry calling <code>next()</code>, but in general you should assume the iterator is already closed.</p>\n<p>If the caller decides to exit iteration for any reason other than the errors in the previous paragraph, such as when it enters an error state in its own code (for example, while handling an invalid value produced by the iterator), it should call the <code>return()</code> method on the iterator, if one exists. This allows the iterator to perform any cleanup. The <code>return()</code> method is only called for premature exits—if <code>next()</code> returns <code>done: true</code>, the <code>return()</code> method is not called, with the assumption that the iterator has already cleaned up.</p>\n<p>The <code>return()</code> method might be invalid too! The language also enforces that the <code>return()</code> method must return an object and throws a TypeError otherwise. If the <code>return()</code> method throws an error, the error is propagated to the caller. However, if the <code>return()</code> method is called because the caller encountered an error in its own code, then this error overrides the error thrown by the <code>return()</code> method.</p>\n<p>Usually, the caller implements error handling like this:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>try {\n  for (const value of iterable) {\n    // ...\n  }\n} catch (e) {\n  // Handle the error\n}\n</code></pre></div>\n<p>The <code>catch</code> will be able to catch errors thrown when <code>iterable</code> is not a valid iterable, when <code>next()</code> throws an error, when <code>return()</code> throws an error (if the <code>for</code> loop exits early), and when the <code>for</code> loop body throws an error.</p>\n<p>Most iterators are implemented with generator functions, so we will demonstrate how generator functions typically handle errors:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function* gen() {\n  try {\n    yield doSomething();\n    yield doSomethingElse();\n  } finally {\n    cleanup();\n  }\n}\n</code></pre></div>\n<p>The lack of <code>catch</code> here causes errors thrown by <code>doSomething()</code> or <code>doSomethingElse()</code> to propagate to the caller of <code>gen</code>. If these errors are caught within the generator function (which is equally advisable), the generator function can decide to continue yielding values or to exit early. However, the <code>finally</code> block is necessary for generators that keep open resources. The <code>finally</code> block is guaranteed to run, either when the last <code>next()</code> is called or when <code>return()</code> is called.</p>"}},{"type":"prose","value":{"id":"forwarding_errors","title":"Forwarding errors","isH3":true,"content":"<p>Some built-in syntaxes wrap an iterator into another iterator. They include the iterator produced by <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator/from\"><code>Iterator.from()</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator#iterator_helper_methods\">iterator helper methods</a> (<code>map()</code>, <code>filter()</code>, <code>take()</code>, <code>drop()</code>, and <code>flatMap()</code>), <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\"><code>yield*</code></a>, and a hidden wrapper when you use async iteration (<code>for await...of</code>, <code>Array.fromAsync</code>) on sync iterators. The wrapped iterator is then responsible for forwarding errors between the inner iterator and the caller.</p>\n<ul>\n<li>All wrapper iterators directly forward the <code>next()</code> method of the inner iterator, including its return value and thrown errors.</li>\n<li>Wrapper iterators generally directly forward the <code>return()</code> method of the inner iterator. If the <code>return()</code> method doesn't exist on the inner iterator, it returns <code>{ done: true, value: undefined }</code> instead. In the case of iterator helpers: if the iterator helper's <code>next()</code> method has not been called, after trying to call <code>return()</code> on the inner iterator, the current iterator always returns <code>{ done: true, value: undefined }</code>. This is consistent with generator functions where execution hasn't entered the <code>yield*</code> expression yet.</li>\n<li><code>yield*</code> is the only built-in syntax that forwards the <code>throw()</code> method of the inner iterator. For information on how <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\"><code>yield*</code></a> forwards the <code>return()</code> and <code>throw()</code> methods, see its own reference.</li>\n</ul>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"user-defined_iterables","title":"User-defined iterables","isH3":true,"content":"<p>You can make your own iterables like this:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const myIterable = {\n  *[Symbol.iterator]() {\n    yield 1;\n    yield 2;\n    yield 3;\n  },\n};\n\nconsole.log([...myIterable]); // [1, 2, 3]\n</code></pre></div>"}},{"type":"prose","value":{"id":"basic_iterator","title":"Basic iterator","isH3":true,"content":"<p>Iterators are stateful by nature. If you don't define it as a <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\">generator function</a> (as the example above shows), you would likely want to encapsulate the state in a closure.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function makeIterator(array) {\n  let nextIndex = 0;\n  return {\n    next() {\n      return nextIndex &lt; array.length\n        ? {\n            value: array[nextIndex++],\n            done: false,\n          }\n        : {\n            done: true,\n          };\n    },\n  };\n}\n\nconst it = makeIterator([\"yo\", \"ya\"]);\n\nconsole.log(it.next().value); // 'yo'\nconsole.log(it.next().value); // 'ya'\nconsole.log(it.next().done); // true\n</code></pre></div>"}},{"type":"prose","value":{"id":"infinite_iterator","title":"Infinite iterator","isH3":true,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function idMaker() {\n  let index = 0;\n  return {\n    next() {\n      return {\n        value: index++,\n        done: false,\n      };\n    },\n  };\n}\n\nconst it = idMaker();\n\nconsole.log(it.next().value); // 0\nconsole.log(it.next().value); // 1\nconsole.log(it.next().value); // 2\n// ...\n</code></pre></div>"}},{"type":"prose","value":{"id":"defining_an_iterable_with_a_generator","title":"Defining an iterable with a generator","isH3":true,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>function* makeGenerator(array) {\n  let nextIndex = 0;\n  while (nextIndex &lt; array.length) {\n    yield array[nextIndex++];\n  }\n}\n\nconst gen = makeGenerator([\"yo\", \"ya\"]);\n\nconsole.log(gen.next().value); // 'yo'\nconsole.log(gen.next().value); // 'ya'\nconsole.log(gen.next().done); // true\n\nfunction* idMaker() {\n  let index = 0;\n  while (true) {\n    yield index++;\n  }\n}\n\nconst it = idMaker();\n\nconsole.log(it.next().value); // 0\nconsole.log(it.next().value); // 1\nconsole.log(it.next().value); // 2\n// ...\n</code></pre></div>"}},{"type":"prose","value":{"id":"defining_an_iterable_with_a_class","title":"Defining an iterable with a class","isH3":true,"content":"<p>State encapsulation can be done with <a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Private_properties\">private properties</a> as well.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>class SimpleClass {\n  #data;\n\n  constructor(data) {\n    this.#data = data;\n  }\n\n  [Symbol.iterator]() {\n    // Use a new index for each iterator. This makes multiple\n    // iterations over the iterable safe for non-trivial cases,\n    // such as use of break or nested looping over the same iterable.\n    let index = 0;\n\n    return {\n      // Note: using an arrow function allows `this` to point to the\n      // one of `[Symbol.iterator]()` instead of `next()`\n      next: () =&gt; {\n        if (index &lt; this.#data.length) {\n          return { value: this.#data[index++], done: false };\n        } else {\n          return { done: true };\n        }\n      },\n    };\n  }\n}\n\nconst simple = new SimpleClass([1, 2, 3, 4, 5]);\n\nfor (const val of simple) {\n  console.log(val); // 1 2 3 4 5\n}\n</code></pre></div>"}},{"type":"prose","value":{"id":"overriding_built-in_iterables","title":"Overriding built-in iterables","isH3":true,"content":"<p>For example, a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>String</code></a> is a built-in iterable object:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const someString = \"hi\";\nconsole.log(typeof someString[Symbol.iterator]); // \"function\"\n</code></pre></div>\n<p><code>String</code>'s <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Symbol.iterator\">default iterator</a> returns the string's code points one by one:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const iterator = someString[Symbol.iterator]();\nconsole.log(`${iterator}`); // \"[object String Iterator]\"\n\nconsole.log(iterator.next()); // { value: \"h\", done: false }\nconsole.log(iterator.next()); // { value: \"i\", done: false }\nconsole.log(iterator.next()); // { value: undefined, done: true }\n</code></pre></div>\n<p>You can redefine the iteration behavior by supplying our own <code>[Symbol.iterator]()</code>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>// need to construct a String object explicitly to avoid auto-boxing\nconst someString = new String(\"hi\");\n\nsomeString[Symbol.iterator] = function () {\n  return {\n    // this is the iterator object, returning a single element (the string \"bye\")\n    next() {\n      return this._first\n        ? { value: \"bye\", done: (this._first = false) }\n        : { done: true };\n    },\n    _first: true,\n  };\n};\n</code></pre></div>\n<p>Notice how redefining <code>[Symbol.iterator]()</code> affects the behavior of built-in constructs that use the iteration protocol:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>console.log([...someString]); // [\"bye\"]\nconsole.log(`${someString}`); // \"hi\"\n</code></pre></div>"}},{"type":"prose","value":{"id":"concurrent_modifications_when_iterating","title":"Concurrent modifications when iterating","isH3":true,"content":"<p>Almost all iterables have the same underlying semantic: they don't copy the data at the time when iteration starts. Rather, they keep a pointer and move it around. Therefore, if you add, delete, or modify elements in the collection while iterating over the collection, you may inadvertently change whether other <em>unchanged</em> elements in the collection are visited. This is very similar to how <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#mutating_initial_array_in_iterative_methods\">iterative array methods</a> work.</p>\n<p>Consider the following case using a <a href=\"/en-US/docs/Web/API/URLSearchParams\"><code>URLSearchParams</code></a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const searchParams = new URLSearchParams(\n  \"deleteme1=value1&amp;key2=value2&amp;key3=value3\",\n);\n\n// Delete unwanted keys\nfor (const [key, value] of searchParams) {\n  console.log(key);\n  if (key.startsWith(\"deleteme\")) {\n    searchParams.delete(key);\n  }\n}\n\n// Output:\n// deleteme1\n// key3\n</code></pre></div>\n<p>Note how it never logs <code>key2</code>. This is because a <code>URLSearchParams</code> is underlyingly a list of key-value pairs. When <code>deleteme1</code> is visited and deleted, all other entries are shifted to the left by one, so <code>key2</code> occupies the position that <code>deleteme1</code> used to be in, and when the pointer moves to the next key, it lands on <code>key3</code>.</p>\n<p>Certain iterable implementations avoid this problem by setting \"tombstone\" values to avoid shifting the remaining values. Consider the similar code using a <code>Map</code>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const myMap = new Map([\n  [\"deleteme1\", \"value1\"],\n  [\"key2\", \"value2\"],\n  [\"key3\", \"value3\"],\n]);\n\nfor (const [key, value] of myMap) {\n  console.log(key);\n  if (key.startsWith(\"deleteme\")) {\n    myMap.delete(key);\n  }\n}\n\n// Output:\n// deleteme1\n// key2\n// key3\n</code></pre></div>\n<p>Note how it logs all keys. This is because <code>Map</code> doesn't shift the remaining keys when one is deleted. If you want to implement something similar, here's how it may look:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const tombstone = Symbol(\"tombstone\");\n\nclass MyIterable {\n  #data;\n  constructor(data) {\n    this.#data = data;\n  }\n  delete(deletedKey) {\n    for (let i = 0; i &lt; this.#data.length; i++) {\n      if (this.#data[i][0] === deletedKey) {\n        this.#data[i] = tombstone;\n        return true;\n      }\n    }\n    return false;\n  }\n  *[Symbol.iterator]() {\n    for (let i = 0; i &lt; this.#data.length; i++) {\n      if (this.#data[i] !== tombstone) {\n        yield this.#data[i];\n      }\n    }\n  }\n}\n\nconst myIterable = new MyIterable([\n  [\"deleteme1\", \"value1\"],\n  [\"key2\", \"value2\"],\n  [\"key3\", \"value3\"],\n]);\nfor (const [key, value] of myIterable) {\n  console.log(key);\n  if (key.startsWith(\"deleteme\")) {\n    myIterable.delete(key);\n  }\n}\n</code></pre></div>\n<div class=\"notecard warning\">\n<p><strong>Warning:</strong>\nConcurrent modifications, in general, are very bug-prone and confusing. Unless you know precisely how the iterable is implemented, it's best to avoid modifying the collection while iterating over it.</p>\n</div>"}},{"type":"specifications","value":{"id":"specifications","title":"Specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-iteration","title":"ECMAScript Language Specification"}],"query":"undefined"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n<li><a href=\"/en-US/docs/Web/JavaScript/Guide/Iterators_and_generators\">Iterators and generators</a> guide</li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\"><code>function*</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator\"><code>Symbol.iterator</code></a></li>\n<li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator\"><code>Iterator</code></a></li>\n</ul>"}}],"isActive":true,"isMarkdown":true,"isTranslated":false,"locale":"en-US","mdn_url":"/en-US/docs/Web/JavaScript/Reference/Iteration_protocols","modified":"2025-01-06T16:55:33.000Z","native":"English (US)","noIndexing":false,"other_translations":[{"locale":"de","title":"Iterationsprotokolle","native":"Deutsch"},{"locale":"es","title":"Protocolos de Iteración","native":"Español"},{"locale":"fr","title":"Les protocoles d'itération","native":"Français"},{"locale":"ja","title":"反復処理プロトコル","native":"日本語"},{"locale":"ko","title":"Iteration protocols","native":"한국어"},{"locale":"pt-BR","title":"Iteration protocols","native":"Português (do Brasil)"},{"locale":"ru","title":"The Iterator protocol","native":"Русский"},{"locale":"zh-CN","title":"迭代协议","native":"中文 (简体)"},{"locale":"zh-TW","title":"迭代協議","native":"正體中文 (繁體)"}],"pageTitle":"Iteration protocols - JavaScript | MDN","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/JavaScript","title":"JavaScript"},{"uri":"/en-US/docs/Web/JavaScript/Reference","title":"Reference"},{"uri":"/en-US/docs/Web/JavaScript/Reference/Iteration_protocols","title":"Iteration protocols"}],"popularity":null,"short_title":"Iteration protocols","sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript\">JavaScript</a></li><li class=\"section\">Tutorials and guides</li><li class=\"toggle\"><details><summary>Beginner's tutorials</summary><ol><li><a href=\"/en-US/docs/Learn_web_development/Getting_started/Your_first_website/Adding_interactivity\">Your first website: Adding interactivity</a></li><li><a href=\"/en-US/docs/Learn_web_development/Core/Scripting\">Dynamic scripting with JavaScript</a></li><li><a href=\"/en-US/docs/Learn_web_development/Core/Frameworks_libraries\">JavaScript frameworks and libraries</a></li></ol></details></li><li class=\"toggle\"><details><summary>JavaScript Guide</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Introduction\">Introduction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Grammar_and_types\">Grammar and types</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling\">Control flow and error handling</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration\">Loops and iteration</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Functions\">Functions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Expressions_and_operators\">Expressions and operators</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Numbers_and_dates\">Numbers and dates</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Text_formatting\">Text formatting</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Regular_expressions\">Regular expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Indexed_collections\">Indexed collections</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Keyed_collections\">Keyed collections</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Working_with_objects\">Working with objects</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Using_classes\">Using classes</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Using_promises\">Using promises</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Typed_arrays\">JavaScript typed arrays</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Iterators_and_generators\">Iterators and generators</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Meta_programming\">Meta programming</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Guide/Modules\">JavaScript modules</a></li></ol></details></li><li class=\"toggle\"><details><summary>Intermediate</summary><ol><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects\">Advanced JavaScript objects</a></li><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Async_JS\">Asynchronous JavaScript</a></li><li><a href=\"/en-US/docs/Learn_web_development/Extensions/Client-side_APIs\">Client-side web APIs</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Language_overview\">Language overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Data_structures\">JavaScript data structures</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness\">Equality comparisons and sameness</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties\">Enumerability and ownership of properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Closures\">Closures</a></li></ol></details></li><li class=\"toggle\"><details><summary>Advanced</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\">Inheritance and the prototype chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Memory_management\">Memory Management</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Event_loop\">Concurrency model and Event Loop</a></li></ol></details></li><li class=\"section\"><a href=\"/en-US/docs/Web/JavaScript/Reference\">References</a></li><li class=\"toggle\"><details><summary>Built-in objects</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError\">AggregateError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\">ArrayBuffer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction\">AsyncFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGenerator\">AsyncGenerator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncGeneratorFunction\">AsyncGeneratorFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncIterator\">AsyncIterator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics\">Atomics</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\">BigInt</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\">BigInt64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array\">BigUint64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\">Boolean</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\">DataView</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\">Date</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI\">decodeURI()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent\">decodeURIComponent()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI\">encodeURI()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\">encodeURIComponent()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\">Error</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape\">escape()</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\">eval()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError\">EvalError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry\">FinalizationRegistry</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float16Array\">Float16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\">Float32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array\">Float64Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function\">Function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\">Generator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction\">GeneratorFunction</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis\">globalThis</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity\">Infinity</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array\">Int16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\">Int32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array\">Int8Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError\">InternalError</a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n<span class=\"visually-hidden\">Non-standard</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl\">Intl</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite\">isFinite()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN\">isNaN()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Iterator\">Iterator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\">JSON</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math\">Math</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN\">NaN</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number\">Number</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\">Object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat\">parseFloat()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\">parseInt()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">Proxy</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError\">RangeError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError\">ReferenceError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect\">Reflect</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\">RegExp</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\">SharedArrayBuffer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\">String</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol\">Symbol</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError\">SyntaxError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\">TypedArray</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\">TypeError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array\">Uint16Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array\">Uint32Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array\">Uint8Array</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\">Uint8ClampedArray</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\">undefined</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/unescape\">unescape()</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError\">URIError</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\">WeakMap</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef\">WeakRef</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\">WeakSet</a></li></ol></details></li><li class=\"toggle\"><details><summary>Expressions &amp; operators</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Addition\">Addition (+)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Addition_assignment\">Addition assignment (+=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Assignment\">Assignment (=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/async_function\">async function expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/async_function*\">async function* expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\">await</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_AND\">Bitwise AND (&amp;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_AND_assignment\">Bitwise AND assignment (&amp;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_NOT\">Bitwise NOT (~)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_OR\">Bitwise OR (|)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_OR_assignment\">Bitwise OR assignment (|=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR\">Bitwise XOR (^)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR_assignment\">Bitwise XOR assignment (^=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/class\">class expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Comma_operator\">Comma operator (,)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_operator\">Conditional (ternary) operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Decrement\">Decrement (--)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/delete\">delete</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">Destructuring assignment</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Division\">Division (/)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Division_assignment\">Division assignment (/=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Equality\">Equality (==)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation\">Exponentiation (**)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation_assignment\">Exponentiation assignment (**=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/function\">function expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/function*\">function* expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Greater_than\">Greater than (&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Greater_than_or_equal\">Greater than or equal (&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Grouping\">Grouping operator ( )</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/import.meta\">import.meta</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/import\">import()</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/in\">in</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Increment\">Increment (++)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Inequality\">Inequality (!=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\">instanceof</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Left_shift\">Left shift (&lt;&lt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Left_shift_assignment\">Left shift assignment (&lt;&lt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Less_than\">Less than (&lt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Less_than_or_equal\">Less than or equal (&lt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND\">Logical AND (&amp;&amp;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND_assignment\">Logical AND assignment (&amp;&amp;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_NOT\">Logical NOT (!)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR\">Logical OR (||)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR_assignment\">Logical OR assignment (||=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Multiplication\">Multiplication (*)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Multiplication_assignment\">Multiplication assignment (*=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/new\">new</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/new.target\">new.target</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/null\">null</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_assignment\">Nullish coalescing assignment (??=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing\">Nullish coalescing operator (??)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer\">Object initializer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Operator_precedence\">Operator precedence</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining\">Optional chaining (?.)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Property_accessors\">Property accessors</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Remainder\">Remainder (%)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Remainder_assignment\">Remainder assignment (%=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Right_shift\">Right shift (&gt;&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Right_shift_assignment\">Right shift assignment (&gt;&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">Spread syntax (...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality\">Strict equality (===)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Strict_inequality\">Strict inequality (!==)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Subtraction\">Subtraction (-)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Subtraction_assignment\">Subtraction assignment (-=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/super\">super</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/this\">this</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/typeof\">typeof</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unary_negation\">Unary negation (-)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unary_plus\">Unary plus (+)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift\">Unsigned right shift (&gt;&gt;&gt;)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift_assignment\">Unsigned right shift assignment (&gt;&gt;&gt;=)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/void\">void operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield\">yield</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/yield*\">yield*</a></li></ol></details></li><li class=\"toggle\"><details><summary>Statements &amp; declarations</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function*\">async function*</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/block\">Block statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/break\">break</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/class\">class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/const\">const</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/continue\">continue</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/debugger\">debugger</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/do...while\">do...while</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/Empty\">Empty statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/export\">export</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/Expression_statement\">Expression statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for\">for</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\">for await...of</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...in\">for...in</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/for...of\">for...of</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function\">function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/function*\">function*</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/if...else\">if...else</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/import\">import</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/label\">Labeled statement</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/let\">let</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/return\">return</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/switch\">switch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/throw\">throw</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\">try...catch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/var\">var</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/while\">while</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/with\">with</a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n<span class=\"visually-hidden\">Deprecated</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details><summary>Functions</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">Arrow function expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\">Default parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/get\">get</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions\">Method definitions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\">Rest parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/set\">set</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Functions/arguments\">The arguments object</a></li></ol></details></li><li class=\"toggle\"><details><summary>Classes</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/constructor\">constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/extends\">extends</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Private_properties\">Private properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields\">Public class fields</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/static\">static</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Classes/Static_initialization_blocks\">Static initialization blocks</a></li></ol></details></li><li class=\"toggle\"><details><summary>Regular expressions</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Backreference\">Backreference: \\1, \\2</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Capturing_group\">Capturing group: (...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class_escape\">Character class escape: \\d, \\D, \\w, \\W, \\s, \\S</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_class\">Character class: [...], [^...]</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Character_escape\">Character escape: \\n, \\u{...}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Disjunction\">Disjunction: |</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Input_boundary_assertion\">Input boundary assertion: ^, $</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Literal_character\">Literal character: a, b</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Lookahead_assertion\">Lookahead assertion: (?=...), (?!...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Lookbehind_assertion\">Lookbehind assertion: (?&lt;=...), (?&lt;!...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Modifier\">Modifier: (?ims-ims:...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Named_backreference\">Named backreference: \\k&lt;name&gt;</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Named_capturing_group\">Named capturing group: (?&lt;name&gt;...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Non-capturing_group\">Non-capturing group: (?:...)</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Quantifier\">Quantifier: *, +, ?, {n}, {n,}, {n,m}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Unicode_character_class_escape\">Unicode character class escape: \\p{...}, \\P{...}</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Wildcard\">Wildcard: .</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Regular_expressions/Word_boundary_assertion\">Word boundary assertion: \\b, \\B</a></li></ol></details></li><li class=\"toggle\"><details><summary>Errors</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors\">Overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Promise_any_all_rejected\">AggregateError: No Promise in Promise.any was resolved</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Property_access_denied\">Error: Permission denied to access property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Too_much_recursion\">InternalError: too much recursion</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_valid_code_point\">RangeError: argument is not a valid code point</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_division_by_zero\">RangeError: BigInt division by zero</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_negative_exponent\">RangeError: BigInt negative exponent</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Form_must_be_one_of\">RangeError: form must be one of 'NFC', 'NFD', 'NFKC', or 'NFKD'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_array_length\">RangeError: invalid array length</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_date\">RangeError: invalid date</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Precision_range\">RangeError: precision is out of range</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_radix\">RangeError: radix must be an integer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Resulting_string_too_large\">RangeError: repeat count must be less than infinity</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Negative_repetition_count\">RangeError: repeat count must be non-negative</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_be_converted_to_BigInt_because_it_isnt_an_integer\">RangeError: x can't be converted to BigInt because it isn't an integer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_defined\">ReferenceError: \"x\" is not defined</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Undeclared_var\">ReferenceError: assignment to undeclared variable \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init\">ReferenceError: can't access lexical declaration 'X' before initialization</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_caller_or_arguments_usage\">ReferenceError: deprecated caller or arguments usage</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Super_not_called\">ReferenceError: must call super constructor before using 'this' in derived class constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Super_called_twice\">ReferenceError: super() called twice in derived class constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_strict_arguments_eval\">SyntaxError: 'arguments'/'eval' can't be defined or assigned to in strict mode code</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_octal_literal\">SyntaxError: \"0\"-prefixed octal literals are deprecated</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Strict_non_simple_params\">SyntaxError: \"use strict\" not allowed in function with non-simple parameters</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Reserved_identifier\">SyntaxError: \"x\" is a reserved identifier</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_backslash_at_end_of_pattern\">SyntaxError: \\ at end of pattern</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_for-of_initializer\">SyntaxError: a declaration in the head of a for-of loop can't have an initializer</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Delete_in_strict_mode\">SyntaxError: applying the 'delete' operator to an unqualified name is deprecated</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Arguments_not_allowed\">SyntaxError: arguments is not valid in fields</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_await\">SyntaxError: await is only valid in async functions, async generators and modules</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/await_yield_in_parameter\">SyntaxError: await/yield expression can't be used in parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_use_nullish_coalescing_unparenthesized\">SyntaxError: cannot use `??` unparenthesized within `||` and `&amp;&amp;` expressions</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_character_class_escape_in_class_range\">SyntaxError: character class escape cannot be used in class range in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_continue\">SyntaxError: continue must be inside loop</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_duplicate_capture_group_name\">SyntaxError: duplicate capture group name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Duplicate_parameter\">SyntaxError: duplicate formal argument x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_for-in_initializer\">SyntaxError: for-in loop head declarations may not have initializers</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unnamed_function_statement\">SyntaxError: function statement requires a name</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Function_label\">SyntaxError: functions cannot be labelled</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Either_be_both_static_or_non-static\">SyntaxError: getter and setter for private name #x should either be both static or non-static</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Getter_no_arguments\">SyntaxError: getter functions must have no arguments</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Identifier_after_number\">SyntaxError: identifier starts immediately after numeric literal</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Illegal_character\">SyntaxError: illegal character</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/import_decl_module_top_level\">SyntaxError: import declarations may only appear at top level of a module</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_incomplete_quantifier\">SyntaxError: incomplete quantifier in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_assignment_left-hand_side\">SyntaxError: invalid assignment left-hand side</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_BigInt_syntax\">SyntaxError: invalid BigInt syntax</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_capture_group_name\">SyntaxError: invalid capture group name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_char_in_class\">SyntaxError: invalid character in class in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_class_set_operation\">SyntaxError: invalid class set operation in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_decimal_escape\">SyntaxError: invalid decimal escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_identity_escape\">SyntaxError: invalid identity escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_named_capture_reference\">SyntaxError: invalid named capture reference in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_property_name\">SyntaxError: invalid property name in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_range_in_character_class\">SyntaxError: invalid range in character class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_group\">SyntaxError: invalid regexp group</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_regexp_flag\">SyntaxError: invalid regular expression flag \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_unicode_escape\">SyntaxError: invalid unicode escape in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/JSON_bad_parse\">SyntaxError: JSON.parse: bad parsing</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Label_not_found\">SyntaxError: label not found</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_colon_after_property_id\">SyntaxError: missing : after property id</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_argument_list\">SyntaxError: missing ) after argument list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_condition\">SyntaxError: missing ) after condition</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_bracket_after_list\">SyntaxError: missing ] after element list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_function_body\">SyntaxError: missing } after function body</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_property_list\">SyntaxError: missing } after property list</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const\">SyntaxError: missing = in const declaration</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_formal_parameter\">SyntaxError: missing formal parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Missing_name_after_dot_operator\">SyntaxError: missing name after . operator</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_variable_name\">SyntaxError: missing variable name</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_negated_char_class_with_strings\">SyntaxError: negated character class with strings in regular expression</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_new_optional\">SyntaxError: new keyword cannot be used with an optional chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_nothing_to_repeat\">SyntaxError: nothing to repeat</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_numbers_out_of_order_in_quantifier\">SyntaxError: numbers out of order in {} quantifier.</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_octal_escape_sequence\">SyntaxError: octal escape sequences can't be used in untagged template literals or in strict mode code</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Parameter_after_rest_parameter\">SyntaxError: parameter after rest parameter</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_delete_private_fields\">SyntaxError: private fields can't be deleted</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Duplicate_proto\">SyntaxError: property name __proto__ appears more than once in object literal</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Regex_raw_bracket\">SyntaxError: raw bracket is not allowed in regular expression with unicode flag</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter\">SyntaxError: redeclaration of formal parameter \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Undeclared_private_field_or_method\">SyntaxError: reference to undeclared private field or method #x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Rest_with_default\">SyntaxError: rest parameter may not have a default</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return\">SyntaxError: return not in function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Setter_one_argument\">SyntaxError: setter functions must have one argument</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/String_literal_EOL\">SyntaxError: string literal contains an unescaped line break</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_super_call\">SyntaxError: super() is only valid in derived class constructors</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_optional_template\">SyntaxError: tagged template cannot be used with optional chain</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Hash_outside_class\">SyntaxError: Unexpected '#' used outside of class body</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unexpected_token\">SyntaxError: Unexpected token</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_break\">SyntaxError: unlabeled break must be inside loop or switch</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unparenthesized_unary_expr_lhs_exponentiation\">SyntaxError: unparenthesized unary expression can't appear on the left-hand side of '**'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Bad_super_prop\">SyntaxError: use of super property/member accesses only valid within methods or eval code within methods</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_source_map_pragma\">SyntaxError: Using //@ to indicate sourceURL pragmas is deprecated. Use //# instead</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/is_not_iterable\">TypeError: 'x' is not iterable</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Unexpected_type\">TypeError: \"x\" is (not) \"y\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_constructor\">TypeError: \"x\" is not a constructor</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Not_a_function\">TypeError: \"x\" is not a function</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_non-null_object\">TypeError: \"x\" is not a non-null object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Read-only\">TypeError: \"x\" is read-only</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/BigInt_not_serializable\">TypeError: BigInt value can't be serialized in JSON</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Builtin_ctor_no_new\">TypeError: calling a builtin X constructor without new is forbidden</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Get_set_missing_private\">TypeError: can't access/set private field or method: object is not the right class</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_assign_to_property\">TypeError: can't assign to property \"x\" on \"y\": not an object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_convert_BigInt_to_number\">TypeError: can't convert BigInt to number</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_convert_x_to_BigInt\">TypeError: can't convert x to BigInt</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_define_property_object_not_extensible\">TypeError: can't define property \"x\": \"obj\" is not extensible</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Non_configurable_array_element\">TypeError: can't delete non-configurable array element</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_redefine_property\">TypeError: can't redefine non-configurable property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_set_prototype\">TypeError: can't set prototype of this object</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_prototype\">TypeError: can't set prototype: it would cause a prototype chain cycle</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/in_operator_no_object\">TypeError: cannot use 'in' operator to search for 'x' in 'y'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Class_ctor_no_new\">TypeError: class constructors must be invoked with 'new'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value\">TypeError: cyclic object value</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_derived_return\">TypeError: derived class constructor returned invalid value x</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Private_setter_only\">TypeError: getting private setter-only property</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Private_double_initialization\">TypeError: Initializing an object twice is an error with private fields/methods</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/invalid_right_hand_side_instanceof_operand\">TypeError: invalid 'instanceof' operand 'x'</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Array_sort_argument\">TypeError: invalid Array.prototype.sort argument</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment\">TypeError: invalid assignment to const \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Constructor_cant_be_used_directly\">TypeError: Iterator/AsyncIterator constructor can't be used directly</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Requires_global_RegExp\">TypeError: matchAll/replaceAll must be called with a global RegExp</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/More_arguments_needed\">TypeError: More arguments needed</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/No_properties\">TypeError: null/undefined has no properties</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Cant_delete\">TypeError: property \"x\" is non-configurable and can't be deleted</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Reduce_of_empty_array_with_no_initial_value\">TypeError: Reduce of empty array with no initial value</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only\">TypeError: setting getter-only property \"x\"</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Key_not_weakly_held\">TypeError: WeakSet key/WeakMap value 'x' must be an object or an unregistered symbol</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Called_on_incompatible_type\">TypeError: X.prototype.y called on incompatible type</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Malformed_URI\">URIError: malformed URI sequence</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Already_has_pragma\">Warning: -file- is being assigned a //# sourceMappingURL, but already has one</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Errors/Stmt_after_return\">Warning: unreachable code after return statement</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Misc</summary><ol><li><a href=\"/en-US/docs/Web/JavaScript/JavaScript_technologies_overview\">JavaScript technologies overview</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Lexical_grammar\">Lexical grammar</a></li><li><em><a href=\"/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\" aria-current=\"page\">Iteration protocols</a></em></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Strict_mode\">Strict mode</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Template_literals\">Template literals</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Trailing_commas\">Trailing commas</a></li><li><a href=\"/en-US/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features\">Deprecated features</a></li></ol></details></li></ol>","source":{"folder":"en-us/web/javascript/reference/iteration_protocols","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/iteration_protocols/index.md","last_commit_url":"https://github.com/mdn/content/commit/21916b17fcbfdae0058e713dd2a1953fd88106f4","filename":"index.md"},"summary":"Iteration protocols aren't new built-ins or syntax, but protocols. These protocols can be implemented by any object by following some conventions.","title":"Iteration protocols","toc":[{"text":"The iterable protocol","id":"the_iterable_protocol"},{"text":"The iterator protocol","id":"the_iterator_protocol"},{"text":"The async iterator and async iterable protocols","id":"the_async_iterator_and_async_iterable_protocols"},{"text":"Interactions between the language and iteration protocols","id":"interactions_between_the_language_and_iteration_protocols"},{"text":"Error handling","id":"error_handling"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"See also","id":"see_also"}],"pageType":"guide"}}</script>

</body><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 08 Jan 2025 13:08:49 GMT --></html>